{"version":3,"sources":["./src/app/components/chats/chats-routing.module.ts","./src/app/components/chats/chats.component.ts","./src/app/components/chats/chats.component.html","./src/app/components/chats/chats.module.ts"],"names":[],"mappings":"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","file":"components-chats-chats-module-es2015.js","sourcesContent":["/*\n  Authors : initappz (Rahul Jograna)\n  Website : https://initappz.com/\n  App Name : ionic 5 groceryee app\n  Created : 10-Sep-2020\n  This App Template Source code is licensed as per the\n  terms found in the Website https://initappz.com/license\n  Copyright and Good Faith Purchasers © 2020-present initappz.\n*/\nimport { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { ChatsComponent } from './chats.component';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ChatsComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class ChatsRoutingModule { }\n","/*\n  Authors : initappz (Rahul Jograna)\n  Website : https://initappz.com/\n  App Name : ionic 5 groceryee app\n  Created : 10-Sep-2020\n  This App Template Source code is licensed as per the\n  terms found in the Website https://initappz.com/license\n  Copyright and Good Faith Purchasers © 2020-present initappz.\n*/\nimport { NavigationExtras, Router } from '@angular/router';\nimport { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\nimport { ApiService } from 'src/app/services/api.service';\nimport { UtilService } from 'src/app/services/util.service';\nimport { ModalDirective } from 'angular-bootstrap-md';\nimport * as moment from 'moment';\n@Component({\n  selector: 'app-chats',\n  templateUrl: './chats.component.html',\n  styleUrls: ['./chats.component.scss']\n})\nexport class ChatsComponent implements OnInit {\n  @ViewChild('basicModal') public basicModal: ModalDirective;\n  @ViewChild('scrollMe') private scrollMe: ElementRef;\n\n  dummy: any[] = [];\n  users: any[] = [];\n\n  id: any;\n  name: any;\n  msg: any = '';\n  messages: any[] = [];\n  uid: any;\n  loaded: boolean;\n  yourMessage: boolean;\n  interval: any;\n\n  constructor(\n    public api: ApiService,\n    public util: UtilService,\n    private router: Router\n  ) {\n    this.uid = localStorage.getItem('uid');\n    this.getChats();\n  }\n\n  ngOnInit(): void {\n  }\n  getChats() {\n    const param = {\n      id: localStorage.getItem('uid')\n    };\n    this.dummy = Array(10);\n    this.api.post('chats/getByGroup', param).subscribe((data: any) => {\n      console.log(data);\n      if (data && data.status === 200) {\n        const info = [];\n        data.data.forEach(element => {\n          info.push(element.from_id);\n          info.push(element.room_id);\n        });\n        let uniq = [...new Set(info)];\n        uniq = uniq.filter(x => x !== localStorage.getItem('uid'));\n        console.log('uniq->>', uniq);\n        const uid = {\n          id: uniq.join()\n        };\n        this.api.post('stores/getChatsNames', uid).subscribe((uids: any) => {\n          this.dummy = [];\n          console.log(uids);\n          if (uids && uids.status === 200) {\n            this.users = uids.data;\n          }\n        }, error => {\n          console.log(error);\n          this.users = [];\n          this.dummy = [];\n          this.util.toast('error', this.util.getString('Error'), this.util.getString('Something went wrong'));\n        });\n      } else {\n        this.dummy = [];\n      }\n    }, error => {\n      console.log(error);\n      this.util.toast('error', this.util.getString('Error'), this.util.getString('Something went wrong'));\n    });\n  }\n\n  onAdmin() {\n    this.id = 0;\n    this.loaded = false;\n    this.name = 'Support';\n    this.getInbox();\n    this.interval = setInterval(() => {\n      console.log('calling in interval');\n      this.getInbox();\n    }, 12000);\n    this.basicModal.show();\n  }\n\n  onChat(item) {\n    console.log(localStorage.getItem('uid'));\n\n    this.id = item.id;\n    this.loaded = false;\n    this.name = item.name;\n    this.getInbox();\n    this.interval = setInterval(() => {\n      console.log('calling in interval');\n      this.getInbox();\n    }, 12000);\n    this.basicModal.show();\n  }\n\n  getInbox() {\n    const param = {\n      id: this.id + '_' + this.uid,\n      oid: this.id\n    };\n    this.api.post('chats/getById', param).subscribe((data: any) => {\n      console.log(data);\n      this.loaded = true;\n      this.yourMessage = true;\n      if (data && data.status === 200) {\n        this.messages = data.data;\n        this.scrollToBottom();\n      }\n    }, error => {\n      console.log(error);\n      this.loaded = true;\n      this.yourMessage = true;\n      this.util.toast('error', this.util.getString('Error'), this.util.getString('Something went wrong'));\n    });\n  }\n  scrollToBottom() {\n    console.log(this.scrollMe.nativeElement.scrollTop);\n    this.scrollMe.nativeElement.scrollTop = this.scrollMe.nativeElement.scrollHeight;\n    console.log(this.scrollMe.nativeElement.scrollTop);\n    // try {\n\n    // } catch (err) { }\n  }\n  closeModal() {\n    clearInterval(this.interval);\n    this.basicModal.hide();\n  }\n\n  sendMessage() {\n    // store to opponent\n    console.log(this.msg);\n    if (!this.msg || this.msg === '') {\n      return false;\n    }\n    const msg = this.msg;\n    this.msg = '';\n    const param = {\n      room_id: this.id,\n      uid: this.id + '_' + this.uid,\n      from_id: this.uid,\n      message: msg,\n      message_type: 'users',\n      status: 1,\n      timestamp: moment().format('YYYY-MM-DD HH:mm:ss')\n    };\n    // this.myContent.scrollToBottom(300);\n    this.yourMessage = false;\n    this.api.post('chats/save', param).subscribe((data: any) => {\n      console.log(data);\n      if (data && data.status === 200) {\n        this.getInbox();\n      } else {\n        this.yourMessage = true;\n      }\n    }, error => {\n      console.log(error);\n      this.yourMessage = true;\n      this.util.toast('error', this.util.getString('Error'), this.util.getString('Something went wrong'));\n    });\n  }\n}\n","<!--\n   Authors : initappz (Rahul Jograna)\n  Website : https://initappz.com/\n  App Name : ionic 5 groceryee app\n  Created : 10-Sep-2020\n  This App Template Source code is licensed as per the\n  terms found in the Website https://initappz.com/license\n  Copyright and Good Faith Purchasers © 2020-present initappz.\n -->\n<div class=\"container\">\n\n  <div mdbModal #basicModal=\"mdbModal\" class=\"modal fade bottom\" tabindex=\"-1\" role=\"dialog\"\n    aria-labelledby=\"myBasicModalLabel\" aria-hidden=\"true\" style=\"z-index: 9999;\"\n    [config]=\"{backdrop: true, ignoreBackdropClick: true}\">\n    <div class=\"modal-dialog modal-dialog-scrollable\" role=\"document\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <button type=\"button\" class=\"close pull-right\" aria-label=\"Close\" (click)=\"closeModal()\">\n            <span aria-hidden=\"true\">×</span>\n          </button>\n          <h4 class=\"modal-title w-100\" id=\"myModalLabel\"> {{name}} </h4>\n        </div>\n        <div class=\"modal-body\">\n          <div *ngIf=\"!loaded\"\n            style=\"display: flex;flex-direction: column;justify-content: center;align-items: center;\">\n            <div class=\"spinner-border text-success\" role=\"status\">\n              <span class=\"sr-only\">Loading...</span>\n            </div>\n          </div>\n          <div class=\"main_content_div\" #scrollMe>\n\n            <span *ngFor=\"let item of messages\">\n              <div class=\"left_div\" *ngIf=\"item.from_id != uid\">\n                <div class=\"inner_div\">\n                  <div class=\"msg_div\">\n                    <p>{{item.message}}</p>\n                  </div>\n                </div>\n              </div>\n\n              <div class=\"right_div\" *ngIf=\"item.from_id == uid\">\n                <div class=\"inner_div\">\n                  <div class=\"msg_div\">\n                    <p>{{item.message}}</p>\n                  </div>\n                </div>\n\n              </div>\n            </span>\n          </div>\n          <div *ngIf=\"!yourMessage && loaded\" style=\"display: flex;flex-direction: row-reverse;padding: 20px;\">\n            <div class=\"spinner-border text-success\" role=\"status\">\n              <span class=\"sr-only\">Loading...</span>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"modal-footer\">\n          <div style=\"width: 100%;\">\n            <div class=\"md-form\">\n              <textarea type=\"text\" [(ngModel)]=\"msg\" id=\"form8\" class=\"md-textarea form-control\" rows=\"1\" mdbInput\n                mdbValidate></textarea>\n              <label for=\"form8\"> {{util.getString('Type Here..')}} </label>\n            </div>\n          </div>\n          <div>\n            <button type=\"button\" mdbBtn color=\"secondary\" class=\"waves-light\" aria-label=\"Close\" (click)=\"closeModal()\"\n              mdbWavesEffect>Close</button>\n            <button type=\"button\" mdbBtn color=\"primary\" (click)=\"sendMessage()\" class=\"relative waves-light\"\n              mdbWavesEffect>Send Message</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"row\">\n    <div class=\"col-12 col-md-6\" (click)=\"onAdmin()\" style=\"cursor: pointer;\">\n      <div class=\"boxed\">\n        <div class=\"img_div\" [ngStyle]=\"{'background-image':'url(assets/imgs/user.png)'}\">\n        </div>\n        <p class=\"name\">\n          {{util.getString('Support')}}\n        </p>\n      </div>\n    </div>\n    <div class=\"col-12 col-md-6\" style=\"cursor: pointer;\" *ngFor=\"let item of users\" (click)=\"onChat(item)\">\n      <div class=\"boxed\">\n        <div class=\"img_div\" [ngStyle]=\"{'background-image':'url('+api.mediaURL+item.cover+')'}\">\n        </div>\n        <p class=\"name\">\n          {{item.name}} <br>\n          <span class=\"mbl\">{{item.mobile}}</span>\n        </p>\n      </div>\n    </div>\n  </div>\n  <div *ngFor=\"let item of dummy\">\n    <div class=\"row\" style=\"overflow: hidden;\">\n      <div class=\"col-12 col-md-6\" *ngFor=\"let item of [1,2,3,4,5,6,7,8]\">\n        <ngx-skeleton-loader [theme]=\"{ 'border-radius': '5px', height: '120px',width:'100%'}\"></ngx-skeleton-loader>\n      </div>\n    </div>\n  </div>\n</div>\n","/*\n  Authors : initappz (Rahul Jograna)\n  Website : https://initappz.com/\n  App Name : ionic 5 groceryee app\n  Created : 10-Sep-2020\n  This App Template Source code is licensed as per the\n  terms found in the Website https://initappz.com/license\n  Copyright and Good Faith Purchasers © 2020-present initappz.\n*/\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { ChatsRoutingModule } from './chats-routing.module';\nimport { ChatsComponent } from './chats.component';\nimport { SharedModule } from 'src/app/shared/shared.module';\nimport { MDBBootstrapModule } from 'angular-bootstrap-md';\n\n@NgModule({\n  declarations: [ChatsComponent],\n  imports: [\n    CommonModule,\n    ChatsRoutingModule,\n    SharedModule,\n    SharedModule,\n    MDBBootstrapModule.forRoot(),\n  ]\n})\nexport class ChatsModule { }\n"],"sourceRoot":"webpack:///"}