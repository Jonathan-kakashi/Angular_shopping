{"version":3,"sources":["webpack:///node_modules/angular-cc-library/__ivy_ngcc__/fesm2015/angular-cc-library.js","webpack:///node_modules/ngx-paypal/__ivy_ngcc__/fesm2015/ngx-paypal.js","webpack:///src/app/components/checkout/checkout-routing.module.ts","webpack:///src/app/components/checkout/checkout.component.html","webpack:///src/app/components/checkout/checkout.component.ts","webpack:///src/app/components/checkout/checkout.module.ts","webpack:///src/app/services/razorPay.ts"],"names":["defaultFormat","cards","type","patterns","format","length","cvvLength","luhn","CreditCard","num","replace","i","len","card","ref","j","len1","pattern","p","substr","e","metaKey","ctrlKey","which","input","String","fromCharCode","test","target","selectionStart","selectionEnd","cardFromNumber","upperLength","slice","global","matches","match","join","groups","exec","shift","filter","Boolean","value","updateValue","cursor","last","result","error","document","activeElement","prevPair","currPair","digit","key","hasTextSelected","str","fullWidth","halfWidth","chars","split","chr","idx","indexOf","expiry","parts","mon","sep","year","substring","val","digits","reverse","odd","sum","parseInt","CreditCardValidators","control","required","undefined","ccNumber","toString","includes","luhnCheck","upperlength","registeredNum","expDate","month","prefix","Date","getFullYear","currentTime","setMonth","getMonth","CreditCardFormatDirective","el","resolvedScheme$","nativeElement","setValue","restrictNumeric","isCardNumber","formatCardNumber","preventDefault","formatBackCardNumber","reFormatCardNumber","setCardType","selStart","cardType","next","classList","contains","forEach","remove","add","toggle","replaceFullWidthChars","oldValue","safeVal","ɵfac","CreditCardFormatDirective_Factory","t","ɵdir","selectors","hostBindings","CreditCardFormatDirective_HostBindings","rf","ctx","CreditCardFormatDirective_keypress_HostBindingHandler","$event","onKeypress","CreditCardFormatDirective_keydown_HostBindingHandler","onKeydown","CreditCardFormatDirective_keyup_HostBindingHandler","onKeyup","CreditCardFormatDirective_paste_HostBindingHandler","onPaste","CreditCardFormatDirective_change_HostBindingHandler","onChange","CreditCardFormatDirective_input_HostBindingHandler","onInput","exportAs","ctorParameters","decorators","prototype","CvcFormatDirective","restrictCvc","oldVal","CvcFormatDirective_Factory","CvcFormatDirective_HostBindings","CvcFormatDirective_keypress_HostBindingHandler","CvcFormatDirective_paste_HostBindingHandler","reformatCvc","CvcFormatDirective_change_HostBindingHandler","CvcFormatDirective_input_HostBindingHandler","ExpiryFormatDirective","restrictExpiry","formatExpiry","formatForwardSlashAndSpace","formatForwardExpiry","formatBackExpiry","reformatExpiry","m1","m2","valueOf","ExpiryFormatDirective_Factory","ExpiryFormatDirective_HostBindings","ExpiryFormatDirective_keypress_HostBindingHandler","ExpiryFormatDirective_keydown_HostBindingHandler","ExpiryFormatDirective_change_HostBindingHandler","ExpiryFormatDirective_input_HostBindingHandler","CREDIT_CARD_LIBRARY_DIRECTIVES","CreditCardDirectivesModule","ɵmod","ɵinj","factory","CreditCardDirectivesModule_Factory","args","selector","ngJitMode","declarations","exports","_c0","ScriptService","zone","url","globalVar","onReady","existingGlobalVar","window","run","scriptElem","createElement","id","getElemId","innerHTML","onload","src","async","defer","getElementsByTagName","appendChild","getElementById","ScriptService_Factory","ɵprov","token","PayPalScriptService","scriptService","paypalWindowName","config","registerScript","getUrlForConfig","cleanup","params","name","clientId","currency","push","commit","vault","extraParams","getQueryString","queryParams","queryString","queryParam","PayPalScriptService_Factory","NgxPaypalComponent","paypalScriptService","cdr","ngZone","scriptLoaded","ngUnsubscribe","initializePayPal","changes","payPalButtonContainerId","generateElementId","isFirstChange","initPayPalScript","payPal","doPayPalCheck","reinitialize","destroyPayPalScript","complete","payPalButtonContainerElem","firstChild","removeChild","detectChanges","initPayPal","registerPayPalScript","advanced","extraQueryParams","paypal","runOutsideAngular","createOrder","data","actions","createOrderOnClient","createOrderOnServer","Error","order","create","createSubscription","onShippingChange","buttonsConfig","Object","assign","style","onApprove","authorizeOnServer","onClientAuthorization","capture","then","details","onError","onCancel","onClick","onInit","Buttons","render","content","NgxPaypalComponent_Factory","ɵcmp","viewQuery","NgxPaypalComponent_Query","_t","payPalButtonContainer","first","inputs","outputs","features","decls","vars","consts","template","NgxPaypalComponent_Template","encapsulation","changeDetection","propDecorators","OnPush","NgxPayPalModule","NgxPayPalModule_Factory","providers","imports","IPayPalConfig","IPayPalUrlConfig","IOrderDetails","IClientAuthorizeCallbackData","ILinkDescription","IQueryParam","IOnShippingChangeData","IOnShippingChangeActions","IAdvancedConfiguration","IOnApproveCallbackData","ICreateOrderCallbackActions","ICancelCallbackData","IOnApproveCallbackActions","IOnInitCallbackActions","ICreateSubscriptionCallbackActions","IInitCallbackData","ICreateSubscriptionCallbackData","IOnClickCallbackActions","IPayPalButtonStyle","ICreateOrderRequest","ICreateSubscriptionRequest","IPayer","IApplicationContext","IPaymentMethod","IPhone","ITaxInfo","IPhoneNumber","IPurchaseUnit","IPayee","IPaymentInstructions","IPlatformFee","ITransactionItem","ITax","IUnitAmount","IMoney","IUnitBreakdown","IPartyName","IAddressPortable","IShipping","routes","path","component","canActivate","CheckoutRoutingModule","forChild","cart","CheckoutComponent","api","util","navCtrl","router","razorpayService","cd","route","selected","deliveryOption","storeAddress","myaddress","cnumber","cname","cvc","date","email","address","house","landmark","title","pincode","RAZORPAY_OPTIONS","mediaURL","logo","offers","subscribe","console","log","method","getPayments","addCard","getStoreList","getAddress","getOffers","datetime","time","getString","today","nextDay","get","status","info","x","havePayment","stripe","cod","razor","paytm","insta","paystack","flutterwave","havePayTM","havePayPal","haveStripe","haveRazor","haveCOD","haveInstamojo","havePayStack","haveFlutterwave","creds","JSON","parse","env","live","userInfo","stripe_key","getCards","stripeCode","code","datas","instaENV","instaPay","instamojo","initConfig","paypalCode","initRazor","razorCode","paytmENV","paytmCreds","toast","handler","PaystackPop","setup","pk","amount","grandTotal","firstname","first_name","lastname","last_name","Math","floor","random","onClose","callback","response","reference","openIframe","lazyLoadLibrary","event","curl","callbackURL","location","origin","param","allow_repeated_payments","getName","purpose","redirect_url","phone","mobile","send_email","webhook","baseUrl","send_sms","getEmail","start","post","stop","success","open","payment_request","longurl","FlutterwaveCheckout","public_key","tx_ref","payment_options","meta","consumer_id","consumer_mac","customer","phone_number","onclose","customizations","description","orderId","makeid","href","ORDER_ID","CUST_ID","localStorage","getItem","INDUSTRY_TYPE_ID","CHANNEL_ID","TXN_AMOUNT","setItem","stringify","deliveryAddress","coupon","JSON_to_URLEncoded","payPalConfig","intent","purchase_units","currency_code","breakdown","item_total","label","layout","payId","err","httpGet","message","prefill","razorPaySuccessHandler","bind","razorpay","Razorpay","razorpay_payment_id","newAddress","show","lat","lng","geocoder","google","maps","Geocoder","geocode","results","geometry","uid","hide","Toast","mixin","position","showConfirmButton","timer","timerProgressBar","onOpen","addEventListener","stopTimer","resumeTimer","fire","icon","options","externalPost","payMethod","payKey","storeId","Set","map","item","store_id","orderStatus","element","notes","date_time","paid_method","order_to","deliveryAt","orders","driver_id","total","totalPrice","tax","orderTax","grand_total","delivery_charge","deliveryPrice","coupon_code","discount","pay_key","assignee","createOrderNotification","stores","clearCart","publishNewOrder","navigate","back","selectedAddress","selecte","calcuate","product","index","quantiy","addQuantity","removeItem","payMethods","frame","proceed","payTm","paystackPay","flutterPay","emailfilter","source","cid","updateUser","getParam","min","parseFloat","offersModal","templateUrl","styleUrls","CheckoutModule","forRoot","RazorPayService","_loadedLibraries","resourceURL","loadScript","asObservable","script","body","providedIn"],"mappings":"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","file":"components-checkout-checkout-module-es5.js","sourcesContent":["import { Validators, NgControl } from '@angular/forms';\nimport { __decorate, __param } from 'tslib';\nimport { ElementRef, Self, Optional, HostListener, Directive, NgModule } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\n\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/forms';\nconst defaultFormat = /(\\d{1,4})/g;\nconst cards = [\n    {\n        type: 'maestro',\n        patterns: [5018, 502, 503, 506, 56, 58, 639, 6220, 67],\n        format: defaultFormat,\n        length: [12, 13, 14, 15, 16, 17, 18, 19],\n        cvvLength: [3],\n        luhn: true,\n    }, {\n        type: 'forbrugsforeningen',\n        patterns: [600],\n        format: defaultFormat,\n        length: [16],\n        cvvLength: [3],\n        luhn: true,\n    }, {\n        type: 'dankort',\n        patterns: [5019],\n        format: defaultFormat,\n        length: [16],\n        cvvLength: [3],\n        luhn: true,\n    }, {\n        type: 'visa',\n        patterns: [4],\n        format: defaultFormat,\n        length: [13, 16, 19],\n        cvvLength: [3],\n        luhn: true,\n    }, {\n        type: 'mastercard',\n        patterns: [51, 52, 53, 54, 55, 22, 23, 24, 25, 26, 27],\n        format: defaultFormat,\n        length: [16],\n        cvvLength: [3],\n        luhn: true,\n    }, {\n        type: 'amex',\n        patterns: [34, 37],\n        format: /(\\d{1,4})(\\d{1,6})?(\\d{1,5})?/,\n        length: [15],\n        cvvLength: [3, 4],\n        luhn: true,\n    }, {\n        type: 'dinersclub',\n        patterns: [30, 36, 38, 39],\n        format: /(\\d{1,4})(\\d{1,6})?(\\d{1,4})?/,\n        length: [14],\n        cvvLength: [3],\n        luhn: true,\n    }, {\n        type: 'discover',\n        patterns: [60, 64, 65, 622],\n        format: defaultFormat,\n        length: [16],\n        cvvLength: [3],\n        luhn: true,\n    }, {\n        type: 'unionpay',\n        patterns: [62, 88],\n        format: defaultFormat,\n        length: [16, 17, 18, 19],\n        cvvLength: [3],\n        luhn: false,\n    }, {\n        type: 'jcb',\n        patterns: [35],\n        format: defaultFormat,\n        length: [16, 19],\n        cvvLength: [3],\n        luhn: true,\n    },\n];\n// @dynamic\nclass CreditCard {\n    static cards() {\n        return cards;\n    }\n    static cardFromNumber(num) {\n        num = (num + '').replace(/\\D/g, '');\n        for (let i = 0, len = cards.length; i < len; i++) {\n            const card = cards[i];\n            const ref = card.patterns;\n            for (let j = 0, len1 = ref.length; j < len1; j++) {\n                const pattern = ref[j];\n                const p = pattern + '';\n                if (num.substr(0, p.length) === p) {\n                    return card;\n                }\n            }\n        }\n    }\n    static restrictNumeric(e) {\n        if (e.metaKey || e.ctrlKey) {\n            return true;\n        }\n        if (e.which === 32) {\n            return false;\n        }\n        if (e.which === 0) {\n            return true;\n        }\n        if (e.which < 33) {\n            return true;\n        }\n        const input = String.fromCharCode(e.which);\n        return !!/[\\d\\s]/.test(input);\n    }\n    static hasTextSelected(target) {\n        return target.selectionStart !== null && target.selectionStart !== target.selectionEnd;\n    }\n    static cardType(num) {\n        if (!num) {\n            return num;\n        }\n        const card = this.cardFromNumber(num);\n        if (card !== null && typeof card !== 'undefined') {\n            return card.type;\n        }\n        else {\n            return null;\n        }\n    }\n    static formatCardNumber(num) {\n        num = num.replace(/\\D/g, '');\n        const card = this.cardFromNumber(num);\n        if (!card) {\n            return num;\n        }\n        const upperLength = card.length[card.length.length - 1];\n        num = num.slice(0, upperLength);\n        if (card.format.global) {\n            const matches = num.match(card.format);\n            if (matches != null) {\n                return matches.join(' ');\n            }\n        }\n        else {\n            const groups = card.format.exec(num);\n            if (groups == null) {\n                return;\n            }\n            groups.shift();\n            return groups.filter(Boolean).join(' ');\n        }\n    }\n    static safeVal(value, target, updateValue) {\n        let cursor = null;\n        const last = target.value;\n        let result = null;\n        try {\n            cursor = target.selectionStart;\n        }\n        catch (error) { }\n        updateValue(value);\n        if (cursor !== null && target === document.activeElement) {\n            if (cursor === last.length) {\n                cursor = value.length;\n            }\n            if (last !== value) {\n                const prevPair = last.slice(cursor - 1, +cursor + 1 || 9e9);\n                const currPair = value.slice(cursor - 1, +cursor + 1 || 9e9);\n                const digit = value[cursor];\n                if (/\\d/.test(digit) && prevPair === (`${digit} `) && currPair === (` ${digit}`)) {\n                    cursor = cursor + 1;\n                }\n            }\n            result = cursor;\n        }\n        return result;\n    }\n    static isCardNumber(key, target) {\n        const digit = String.fromCharCode(key);\n        if (!/^\\d+$/.test(digit)) {\n            return false;\n        }\n        if (CreditCard.hasTextSelected(target)) {\n            return true;\n        }\n        const value = (target.value + digit).replace(/\\D/g, '');\n        const card = CreditCard.cardFromNumber(value);\n        if (card) {\n            return value.length <= card.length[card.length.length - 1];\n        }\n        else {\n            return value.length <= 16;\n        }\n    }\n    static restrictExpiry(key, target) {\n        const digit = String.fromCharCode(key);\n        if (!/^\\d+$/.test(digit) || this.hasTextSelected(target)) {\n            return false;\n        }\n        const value = `${target.value}${digit}`.replace(/\\D/g, '');\n        return value.length > 6;\n    }\n    static replaceFullWidthChars(str) {\n        if (str === null) {\n            str = '';\n        }\n        const fullWidth = '\\uff10\\uff11\\uff12\\uff13\\uff14\\uff15\\uff16\\uff17\\uff18\\uff19';\n        const halfWidth = '0123456789';\n        let value = '';\n        const chars = str.split('');\n        // tslint:disable-next-line:prefer-for-of\n        for (let i = 0; i < chars.length; i++) {\n            let chr = chars[i];\n            const idx = fullWidth.indexOf(chr);\n            if (idx > -1) {\n                chr = halfWidth[idx];\n            }\n            value += chr;\n        }\n        return value;\n    }\n    static formatExpiry(expiry) {\n        const parts = expiry.match(/^\\D*(\\d{1,2})(\\D+)?(\\d{1,4})?/);\n        if (!parts) {\n            return '';\n        }\n        let mon = parts[1] || '';\n        let sep = parts[2] || '';\n        const year = parts[3] || '';\n        if (year.length > 0) {\n            sep = ' / ';\n        }\n        else if (sep === ' /') {\n            mon = mon.substring(0, 1);\n            sep = '';\n        }\n        else if (mon.length === 2 || sep.length > 0) {\n            sep = ' / ';\n        }\n        else if (mon.length === 1 && (mon !== '0' && mon !== '1')) {\n            mon = `0${mon}`;\n            sep = ' / ';\n        }\n        return `${mon}${sep}${year}`;\n    }\n    static restrictCvc(key, target) {\n        const digit = String.fromCharCode(key);\n        if (!/^\\d+$/.test(digit) || this.hasTextSelected(target)) {\n            return false;\n        }\n        const val = `${target.value}${digit}`;\n        return val.length <= 4;\n    }\n    static luhnCheck(num) {\n        const digits = num.split('').reverse();\n        let odd = true;\n        let sum = 0;\n        // tslint:disable-next-line:prefer-for-of\n        for (let i = 0; i < digits.length; i++) {\n            let digit = parseInt(digits[i], 10);\n            // tslint:disable-next-line:no-conditional-assignment\n            if ((odd = !odd)) {\n                digit *= 2;\n            }\n            if (digit > 9) {\n                digit -= 9;\n            }\n            sum += digit;\n        }\n        return sum % 10 === 0;\n    }\n}\n\nclass CreditCardValidators {\n    static validateCCNumber(control) {\n        if (Validators.required(control) !== undefined && Validators.required(control) !== null) {\n            return { ccNumber: true };\n        }\n        const num = control.value.toString().replace(/\\s+|-/g, '');\n        if (!/^\\d+$/.test(num)) {\n            return { ccNumber: true };\n        }\n        const card = CreditCard.cardFromNumber(num);\n        if (!card) {\n            return { ccNumber: true };\n        }\n        if (card.length.includes(num.length) && (card.luhn === false || CreditCard.luhnCheck(num))) {\n            return null;\n        }\n        const upperlength = card.length[card.length.length - 1];\n        if (num.length > upperlength) {\n            const registeredNum = num.substring(0, upperlength);\n            if (CreditCard.luhnCheck(registeredNum)) {\n                return null;\n            }\n        }\n        return { ccNumber: true };\n    }\n    static validateExpDate(control) {\n        if (Validators.required(control) !== undefined && Validators.required(control) !== null) {\n            return { expDate: true };\n        }\n        if (typeof control.value !== 'undefined' && control.value.length >= 5) {\n            let [month, year] = control.value.split(/[\\s\\/]+/, 2);\n            if ((year != null ? year.length : void 0) === 2 && /^\\d+$/.test(year)) {\n                const prefix = new Date().getFullYear().toString().slice(0, 2);\n                year = prefix + year;\n            }\n            month = parseInt(month, 10).toString();\n            year = parseInt(year, 10).toString();\n            if (/^\\d+$/.test(month) && /^\\d+$/.test(year) && (month >= 1 && month <= 12)) {\n                const expiry = new Date(year, month);\n                const currentTime = new Date();\n                expiry.setMonth(expiry.getMonth() - 1);\n                expiry.setMonth(expiry.getMonth() + 1, 1);\n                if (expiry > currentTime) {\n                    return null;\n                }\n            }\n        }\n        return { expDate: true };\n    }\n}\n\nlet CreditCardFormatDirective = class CreditCardFormatDirective {\n    constructor(el, control) {\n        this.el = el;\n        this.control = control;\n        this.cards = CreditCard.cards();\n        this.resolvedScheme$ = new BehaviorSubject('unknown');\n        this.target = this.el.nativeElement;\n    }\n    /**\n     * Updates the value to target element, or FormControl if exists.\n     * @param value New input value.\n     */\n    updateValue(value) {\n        if (this.control) {\n            this.control.control.setValue(value);\n        }\n        else {\n            this.target.value = value;\n        }\n    }\n    onKeypress(e) {\n        if (CreditCard.restrictNumeric(e)) {\n            if (CreditCard.isCardNumber(e.which, this.target)) {\n                this.formatCardNumber(e);\n            }\n        }\n        else {\n            e.preventDefault();\n        }\n    }\n    onKeydown(e) {\n        this.formatBackCardNumber(e);\n        this.reFormatCardNumber();\n    }\n    onKeyup() {\n        this.setCardType();\n    }\n    onPaste() {\n        this.reFormatCardNumber();\n    }\n    onChange() {\n        this.reFormatCardNumber();\n    }\n    onInput() {\n        this.reFormatCardNumber();\n        this.setCardType();\n    }\n    formatCardNumber(e) {\n        const digit = String.fromCharCode(e.which);\n        if (!/^\\d+$/.test(digit)) {\n            return;\n        }\n        const value = this.target.value;\n        const card = CreditCard.cardFromNumber(value + digit);\n        const length = (value.replace(/\\D/g, '') + digit).length;\n        const upperLength = card ? card.length[card.length.length - 1] : 19;\n        if (length >= upperLength) {\n            return;\n        }\n    }\n    formatBackCardNumber(e) {\n        const value = this.target.value;\n        const selStart = this.target.selectionStart;\n        if (e.which !== 8) {\n            return;\n        }\n        if (selStart != null\n            && selStart === this.target.selectionEnd\n            && selStart > 0\n            && selStart !== value.length\n            && value[selStart - 1] === ' ') {\n            e.preventDefault();\n            if (selStart <= 2) {\n                this.updateValue(value.slice(selStart));\n                this.target.selectionStart = 0;\n                this.target.selectionEnd = 0;\n            }\n            else {\n                this.updateValue(value.slice(0, selStart - 2) + value.slice(selStart));\n                this.target.selectionStart = selStart - 2;\n                this.target.selectionEnd = selStart - 2;\n            }\n        }\n    }\n    setCardType() {\n        const cardType = CreditCard.cardType(this.target.value) || 'unknown';\n        this.resolvedScheme$.next(cardType);\n        if (!this.target.classList.contains(cardType)) {\n            this.cards.forEach((card) => {\n                this.target.classList.remove(card.type);\n            });\n            this.target.classList.remove('unknown');\n            this.target.classList.add(cardType);\n            this.target.classList.toggle('identified', cardType !== 'unknown');\n        }\n    }\n    reFormatCardNumber() {\n        const value = CreditCard.formatCardNumber(CreditCard.replaceFullWidthChars(this.target.value));\n        const oldValue = this.target.value;\n        if (value !== oldValue) {\n            this.target.selectionStart = this.target.selectionEnd = CreditCard.safeVal(value, this.target, (safeVal => {\n                this.updateValue(safeVal);\n            }));\n        }\n    }\n};\nCreditCardFormatDirective.ɵfac = function CreditCardFormatDirective_Factory(t) { return new (t || CreditCardFormatDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.NgControl, 10)); };\nCreditCardFormatDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: CreditCardFormatDirective, selectors: [[\"\", \"ccNumber\", \"\"]], hostBindings: function CreditCardFormatDirective_HostBindings(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"keypress\", function CreditCardFormatDirective_keypress_HostBindingHandler($event) { return ctx.onKeypress($event); })(\"keydown\", function CreditCardFormatDirective_keydown_HostBindingHandler($event) { return ctx.onKeydown($event); })(\"keyup\", function CreditCardFormatDirective_keyup_HostBindingHandler() { return ctx.onKeyup(); })(\"paste\", function CreditCardFormatDirective_paste_HostBindingHandler() { return ctx.onPaste(); })(\"change\", function CreditCardFormatDirective_change_HostBindingHandler() { return ctx.onChange(); })(\"input\", function CreditCardFormatDirective_input_HostBindingHandler() { return ctx.onInput(); });\n    } }, exportAs: [\"ccNumber\"] });\nCreditCardFormatDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: NgControl, decorators: [{ type: Self }, { type: Optional }] }\n];\n__decorate([\n    HostListener('keypress', ['$event'])\n], CreditCardFormatDirective.prototype, \"onKeypress\", null);\n__decorate([\n    HostListener('keydown', ['$event'])\n], CreditCardFormatDirective.prototype, \"onKeydown\", null);\n__decorate([\n    HostListener('keyup')\n], CreditCardFormatDirective.prototype, \"onKeyup\", null);\n__decorate([\n    HostListener('paste')\n], CreditCardFormatDirective.prototype, \"onPaste\", null);\n__decorate([\n    HostListener('change')\n], CreditCardFormatDirective.prototype, \"onChange\", null);\n__decorate([\n    HostListener('input')\n], CreditCardFormatDirective.prototype, \"onInput\", null);\nCreditCardFormatDirective = __decorate([ __param(1, Self()), __param(1, Optional())\n], CreditCardFormatDirective);\n\nlet CvcFormatDirective = class CvcFormatDirective {\n    constructor(el, control) {\n        this.el = el;\n        this.control = control;\n        this.target = this.el.nativeElement;\n    }\n    /**\n     * Updates the value to target element, or FormControl if exists.\n     * @param value New input value.\n     */\n    updateValue(value) {\n        if (this.control) {\n            this.control.control.setValue(value);\n        }\n        else {\n            this.target.value = value;\n        }\n    }\n    onKeypress(e) {\n        if (!CreditCard.restrictNumeric(e) && !CreditCard.restrictCvc(e.which, this.target)) {\n            e.preventDefault();\n        }\n    }\n    reformatCvc() {\n        const val = CreditCard.replaceFullWidthChars(this.target.value)\n            .replace(/\\D/g, '')\n            .slice(0, 4);\n        const oldVal = this.target.value;\n        if (val !== oldVal) {\n            this.target.selectionStart = this.target.selectionEnd = CreditCard.safeVal(val, this.target, (safeVal => {\n                this.updateValue(safeVal);\n            }));\n        }\n    }\n};\nCvcFormatDirective.ɵfac = function CvcFormatDirective_Factory(t) { return new (t || CvcFormatDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.NgControl, 10)); };\nCvcFormatDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: CvcFormatDirective, selectors: [[\"\", \"ccCVC\", \"\"]], hostBindings: function CvcFormatDirective_HostBindings(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"keypress\", function CvcFormatDirective_keypress_HostBindingHandler($event) { return ctx.onKeypress($event); })(\"paste\", function CvcFormatDirective_paste_HostBindingHandler() { return ctx.reformatCvc(); })(\"change\", function CvcFormatDirective_change_HostBindingHandler() { return ctx.reformatCvc(); })(\"input\", function CvcFormatDirective_input_HostBindingHandler() { return ctx.reformatCvc(); });\n    } } });\nCvcFormatDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: NgControl, decorators: [{ type: Self }, { type: Optional }] }\n];\n__decorate([\n    HostListener('keypress', ['$event'])\n], CvcFormatDirective.prototype, \"onKeypress\", null);\n__decorate([\n    HostListener('paste'),\n    HostListener('change'),\n    HostListener('input')\n], CvcFormatDirective.prototype, \"reformatCvc\", null);\nCvcFormatDirective = __decorate([ __param(1, Self()), __param(1, Optional())\n], CvcFormatDirective);\n\nlet ExpiryFormatDirective = class ExpiryFormatDirective {\n    constructor(el, control) {\n        this.el = el;\n        this.control = control;\n        this.target = this.el.nativeElement;\n    }\n    /**\n     * Updates the value to target element, or FormControl if exists.\n     * @param value New input value.\n     */\n    updateValue(value) {\n        if (this.control) {\n            this.control.control.setValue(value);\n        }\n        else {\n            this.target.value = value;\n        }\n    }\n    onKeypress(e) {\n        if (CreditCard.restrictNumeric(e)) {\n            if (CreditCard.restrictExpiry(e.which, this.target)) {\n                this.formatExpiry(e);\n                this.formatForwardSlashAndSpace(e);\n                this.formatForwardExpiry(e);\n            }\n        }\n        else {\n            e.preventDefault();\n            return false;\n        }\n    }\n    onKeydown(e) {\n        if (CreditCard.restrictNumeric(e) && CreditCard.restrictExpiry(e.which, this.target)) {\n            this.formatBackExpiry(e);\n        }\n    }\n    onChange() {\n        this.reformatExpiry();\n    }\n    onInput() {\n        this.reformatExpiry();\n    }\n    formatExpiry(e) {\n        const digit = String.fromCharCode(e.which);\n        const val = `${this.target.value}${digit}`;\n        if (!/^\\d+$/.test(digit)) {\n            return;\n        }\n        if (/^\\d$/.test(val) && (val !== '0' && val !== '1')) {\n            e.preventDefault();\n            this.updateValue(`0${val} / `);\n        }\n        else if (/^\\d\\d$/.test(val)) {\n            e.preventDefault();\n            const m1 = parseInt(val[0], 10);\n            const m2 = parseInt(val[1], 10);\n            if (m2 > 2 && m1 !== 0) {\n                this.updateValue(`0${m1} / ${m2}`);\n            }\n            else {\n                this.updateValue(`${val} / `);\n            }\n        }\n    }\n    formatForwardSlashAndSpace(e) {\n        const which = String.fromCharCode(e.which);\n        const val = this.target.value;\n        if (!(which === '/' || which === ' ')) {\n            return false;\n        }\n        if (/^\\d$/.test(val) && val !== '0') {\n            this.updateValue(`0${val} / `);\n        }\n    }\n    formatForwardExpiry(e) {\n        const digit = String.fromCharCode(e.which);\n        const val = this.target.value;\n        if (!/^\\d+$/.test(digit) && /^\\d\\d$/.test(val)) {\n            this.updateValue(this.target.value = `${val} / `);\n        }\n    }\n    formatBackExpiry(e) {\n        const val = this.target.valueOf;\n        if (e.which !== 8) {\n            return;\n        }\n        if ((this.target.selectionStart != null) && this.target.selectionStart !== val.length) {\n            return;\n        }\n        if (/\\d\\s\\/\\s$/.test(val)) {\n            e.preventDefault();\n            this.updateValue(val.replace(/\\d\\s\\/\\s$/, ''));\n        }\n    }\n    reformatExpiry() {\n        const val = CreditCard.formatExpiry(CreditCard.replaceFullWidthChars(this.target.value));\n        const oldVal = this.target.value;\n        if (val !== oldVal) {\n            this.target.selectionStart = this.target.selectionEnd = CreditCard.safeVal(val, this.target, (safeVal => {\n                this.updateValue(safeVal);\n            }));\n        }\n    }\n};\nExpiryFormatDirective.ɵfac = function ExpiryFormatDirective_Factory(t) { return new (t || ExpiryFormatDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.NgControl, 10)); };\nExpiryFormatDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: ExpiryFormatDirective, selectors: [[\"\", \"ccExp\", \"\"]], hostBindings: function ExpiryFormatDirective_HostBindings(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"keypress\", function ExpiryFormatDirective_keypress_HostBindingHandler($event) { return ctx.onKeypress($event); })(\"keydown\", function ExpiryFormatDirective_keydown_HostBindingHandler($event) { return ctx.onKeydown($event); })(\"change\", function ExpiryFormatDirective_change_HostBindingHandler() { return ctx.onChange(); })(\"input\", function ExpiryFormatDirective_input_HostBindingHandler() { return ctx.onInput(); });\n    } } });\nExpiryFormatDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: NgControl, decorators: [{ type: Self }, { type: Optional }] }\n];\n__decorate([\n    HostListener('keypress', ['$event'])\n], ExpiryFormatDirective.prototype, \"onKeypress\", null);\n__decorate([\n    HostListener('keydown', ['$event'])\n], ExpiryFormatDirective.prototype, \"onKeydown\", null);\n__decorate([\n    HostListener('change')\n], ExpiryFormatDirective.prototype, \"onChange\", null);\n__decorate([\n    HostListener('input')\n], ExpiryFormatDirective.prototype, \"onInput\", null);\nExpiryFormatDirective = __decorate([ __param(1, Self()), __param(1, Optional())\n], ExpiryFormatDirective);\n\nconst CREDIT_CARD_LIBRARY_DIRECTIVES = [\n    CreditCardFormatDirective,\n    ExpiryFormatDirective,\n    CvcFormatDirective,\n];\nlet CreditCardDirectivesModule = class CreditCardDirectivesModule {\n};\nCreditCardDirectivesModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: CreditCardDirectivesModule });\nCreditCardDirectivesModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function CreditCardDirectivesModule_Factory(t) { return new (t || CreditCardDirectivesModule)(); } });\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(CreditCardFormatDirective, [{\n        type: Directive,\n        args: [{\n                selector: '[ccNumber]',\n                exportAs: 'ccNumber'\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc1.NgControl, decorators: [{\n                type: Self\n            }, {\n                type: Optional\n            }] }]; }, { onKeypress: [{\n            type: HostListener,\n            args: ['keypress', ['$event']]\n        }], onKeydown: [{\n            type: HostListener,\n            args: ['keydown', ['$event']]\n        }], onKeyup: [{\n            type: HostListener,\n            args: ['keyup']\n        }], onPaste: [{\n            type: HostListener,\n            args: ['paste']\n        }], onChange: [{\n            type: HostListener,\n            args: ['change']\n        }], onInput: [{\n            type: HostListener,\n            args: ['input']\n        }] }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(CvcFormatDirective, [{\n        type: Directive,\n        args: [{\n                selector: '[ccCVC]'\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc1.NgControl, decorators: [{\n                type: Self\n            }, {\n                type: Optional\n            }] }]; }, { onKeypress: [{\n            type: HostListener,\n            args: ['keypress', ['$event']]\n        }], reformatCvc: [{\n            type: HostListener,\n            args: ['paste']\n        }, {\n            type: HostListener,\n            args: ['change']\n        }, {\n            type: HostListener,\n            args: ['input']\n        }] }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ExpiryFormatDirective, [{\n        type: Directive,\n        args: [{\n                selector: '[ccExp]'\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc1.NgControl, decorators: [{\n                type: Self\n            }, {\n                type: Optional\n            }] }]; }, { onKeypress: [{\n            type: HostListener,\n            args: ['keypress', ['$event']]\n        }], onKeydown: [{\n            type: HostListener,\n            args: ['keydown', ['$event']]\n        }], onChange: [{\n            type: HostListener,\n            args: ['change']\n        }], onInput: [{\n            type: HostListener,\n            args: ['input']\n        }] }); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(CreditCardDirectivesModule, { declarations: [CreditCardFormatDirective,\n        ExpiryFormatDirective,\n        CvcFormatDirective], exports: [CreditCardFormatDirective,\n        ExpiryFormatDirective,\n        CvcFormatDirective] }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(CreditCardDirectivesModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [CREDIT_CARD_LIBRARY_DIRECTIVES],\n                exports: [CREDIT_CARD_LIBRARY_DIRECTIVES]\n            }]\n    }], null, null); })();\n\n/*\n * Public API Surface of angular-cc-library\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { CreditCard, CreditCardDirectivesModule, CreditCardFormatDirective, CreditCardValidators, CvcFormatDirective, ExpiryFormatDirective };\n\n//# sourceMappingURL=angular-cc-library.js.map","import { CommonModule } from '@angular/common';\nimport { Injectable, NgZone, EventEmitter, Component, ChangeDetectionStrategy, ChangeDetectorRef, Input, Output, ViewChild, NgModule } from '@angular/core';\nimport { Subject } from 'rxjs';\n\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: lib/services/script.service.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nimport * as ɵngcc0 from '@angular/core';\n\nconst _c0 = [\"payPalButtonContainer\"];\nclass ScriptService {\r\n    /**\r\n     * @param {?} zone\r\n     */\r\n    constructor(zone) {\r\n        this.zone = zone;\r\n    }\r\n    /**\r\n     * @param {?} url\r\n     * @param {?} globalVar\r\n     * @param {?} onReady\r\n     * @return {?}\r\n     */\r\n    registerScript(url, globalVar, onReady) {\r\n        /** @type {?} */\r\n        const existingGlobalVar = ((/** @type {?} */ (window)))[globalVar];\r\n        if (existingGlobalVar) {\r\n            // global variable is present = script was already loaded\r\n            this.zone.run((/**\r\n             * @return {?}\r\n             */\r\n            () => {\r\n                onReady(existingGlobalVar);\r\n            }));\r\n            return;\r\n        }\r\n        // prepare script elem\r\n        /** @type {?} */\r\n        const scriptElem = document.createElement('script');\r\n        scriptElem.id = this.getElemId(globalVar);\r\n        scriptElem.innerHTML = '';\r\n        scriptElem.onload = (/**\r\n         * @return {?}\r\n         */\r\n        () => {\r\n            this.zone.run((/**\r\n             * @return {?}\r\n             */\r\n            () => {\r\n                onReady(((/** @type {?} */ (window)))[globalVar]);\r\n            }));\r\n        });\r\n        scriptElem.src = url;\r\n        scriptElem.async = true;\r\n        scriptElem.defer = true;\r\n        // add script to header\r\n        document.getElementsByTagName('head')[0].appendChild(scriptElem);\r\n    }\r\n    /**\r\n     * @param {?} globalVar\r\n     * @return {?}\r\n     */\r\n    cleanup(globalVar) {\r\n        // remove script from DOM\r\n        /** @type {?} */\r\n        const scriptElem = document.getElementById(this.getElemId(globalVar));\r\n        if (scriptElem) {\r\n            scriptElem.remove();\r\n        }\r\n    }\r\n    /**\r\n     * @private\r\n     * @param {?} globalVar\r\n     * @return {?}\r\n     */\r\n    getElemId(globalVar) {\r\n        return `ngx-paypal-script-elem-${globalVar}`;\r\n    }\r\n}\nScriptService.ɵfac = function ScriptService_Factory(t) { return new (t || ScriptService)(ɵngcc0.ɵɵinject(ɵngcc0.NgZone)); };\nScriptService.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: ScriptService, factory: ScriptService.ɵfac });\r\n/** @nocollapse */\r\nScriptService.ctorParameters = () => [\r\n    { type: NgZone }\r\n];\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ScriptService, [{\n        type: Injectable\n    }], function () { return [{ type: ɵngcc0.NgZone }]; }, null); })();\r\nif (false) {\r\n    /**\r\n     * @type {?}\r\n     * @protected\r\n     */\r\n    ScriptService.prototype.zone;\r\n}\n\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: lib/services/paypal-script.service.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nclass PayPalScriptService {\r\n    /**\r\n     * @param {?} scriptService\r\n     */\r\n    constructor(scriptService) {\r\n        this.scriptService = scriptService;\r\n        this.paypalWindowName = 'paypal';\r\n    }\r\n    /**\r\n     * @param {?} config\r\n     * @param {?} onReady\r\n     * @return {?}\r\n     */\r\n    registerPayPalScript(config, onReady) {\r\n        this.scriptService.registerScript(this.getUrlForConfig(config), this.paypalWindowName, onReady);\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    destroyPayPalScript() {\r\n        this.scriptService.cleanup(this.paypalWindowName);\r\n    }\r\n    /**\r\n     * @private\r\n     * @param {?} config\r\n     * @return {?}\r\n     */\r\n    getUrlForConfig(config) {\r\n        /** @type {?} */\r\n        const params = [\r\n            {\r\n                name: 'client-id',\r\n                value: config.clientId\r\n            }\r\n        ];\r\n        if (config.currency) {\r\n            params.push({\r\n                name: 'currency',\r\n                value: config.currency\r\n            });\r\n        }\r\n        if (config.commit) {\r\n            params.push({\r\n                name: 'commit',\r\n                value: config.commit\r\n            });\r\n        }\r\n        if (config.vault) {\r\n            params.push({\r\n                name: 'vault',\r\n                value: config.vault\r\n            });\r\n        }\r\n        if (config.extraParams) {\r\n            params.push(...config.extraParams);\r\n        }\r\n        return `https://www.paypal.com/sdk/js${this.getQueryString(params)}`;\r\n    }\r\n    /**\r\n     * @private\r\n     * @param {?} queryParams\r\n     * @return {?}\r\n     */\r\n    getQueryString(queryParams) {\r\n        /** @type {?} */\r\n        let queryString = '';\r\n        for (let i = 0; i < queryParams.length; i++) {\r\n            /** @type {?} */\r\n            const queryParam = queryParams[i];\r\n            if (i === 0) {\r\n                queryString += '?';\r\n            }\r\n            else {\r\n                queryString += '&';\r\n            }\r\n            queryString += `${queryParam.name}=${queryParam.value}`;\r\n        }\r\n        return queryString;\r\n    }\r\n}\nPayPalScriptService.ɵfac = function PayPalScriptService_Factory(t) { return new (t || PayPalScriptService)(ɵngcc0.ɵɵinject(ScriptService)); };\nPayPalScriptService.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: PayPalScriptService, factory: PayPalScriptService.ɵfac });\r\n/** @nocollapse */\r\nPayPalScriptService.ctorParameters = () => [\r\n    { type: ScriptService }\r\n];\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(PayPalScriptService, [{\n        type: Injectable\n    }], function () { return [{ type: ScriptService }]; }, null); })();\r\nif (false) {\r\n    /**\r\n     * @type {?}\r\n     * @private\r\n     */\r\n    PayPalScriptService.prototype.paypalWindowName;\r\n    /**\r\n     * @type {?}\r\n     * @protected\r\n     */\r\n    PayPalScriptService.prototype.scriptService;\r\n}\n\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: lib/components/paypal.component.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nclass NgxPaypalComponent {\r\n    /**\r\n     * @param {?} paypalScriptService\r\n     * @param {?} cdr\r\n     * @param {?} ngZone\r\n     */\r\n    constructor(paypalScriptService, cdr, ngZone) {\r\n        this.paypalScriptService = paypalScriptService;\r\n        this.cdr = cdr;\r\n        this.ngZone = ngZone;\r\n        /**\r\n         * If enabled, paypal SDK script will be loaded. Useful if you want to have multiple PayPal components on the same page\r\n         * sharing base configuration. In such a case only a single component may register script.\r\n         */\r\n        this.registerScript = true;\r\n        /**\r\n         * Emitted when paypal script is loaded\r\n         */\r\n        this.scriptLoaded = new EventEmitter();\r\n        this.ngUnsubscribe = new Subject();\r\n        /**\r\n         * Flag that indicates if paypal should be initialized (required for handling script load events and availability of DOM element)\r\n         */\r\n        this.initializePayPal = true;\r\n    }\r\n    /**\r\n     * @param {?} content\r\n     * @return {?}\r\n     */\r\n    set payPalButtonContainer(content) {\r\n        this.payPalButtonContainerElem = content;\r\n    }\r\n    /**\r\n     * @param {?} changes\r\n     * @return {?}\r\n     */\r\n    ngOnChanges(changes) {\r\n        if (!this.payPalButtonContainerId) {\r\n            this.payPalButtonContainerId = this.generateElementId();\r\n        }\r\n        // first time config setup\r\n        /** @type {?} */\r\n        const config = this.config;\r\n        if (changes.config.isFirstChange()) {\r\n            if (config && this.registerScript) {\r\n                this.initPayPalScript(config, (/**\r\n                 * @param {?} payPal\r\n                 * @return {?}\r\n                 */\r\n                (payPal) => {\r\n                    // store reference to paypal global script\r\n                    this.payPal = payPal;\r\n                    this.doPayPalCheck();\r\n                }));\r\n            }\r\n        }\r\n        // changes to config\r\n        if (!changes.config.isFirstChange()) {\r\n            this.reinitialize(config);\r\n        }\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ngOnDestroy() {\r\n        this.paypalScriptService.destroyPayPalScript();\r\n        this.ngUnsubscribe.next();\r\n        this.ngUnsubscribe.complete();\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ngAfterViewInit() {\r\n        this.doPayPalCheck();\r\n    }\r\n    /**\r\n     * @param {?} payPal\r\n     * @return {?}\r\n     */\r\n    customInit(payPal) {\r\n        this.payPal = payPal;\r\n        this.doPayPalCheck();\r\n    }\r\n    /**\r\n     * @param {?} config\r\n     * @return {?}\r\n     */\r\n    reinitialize(config) {\r\n        this.config = config;\r\n        this.payPal = undefined;\r\n        this.paypalScriptService.destroyPayPalScript();\r\n        this.payPalButtonContainerId = this.generateElementId();\r\n        this.initializePayPal = true;\r\n        if (this.payPalButtonContainerElem) {\r\n            while (this.payPalButtonContainerElem.nativeElement.firstChild) {\r\n                this.payPalButtonContainerElem.nativeElement.removeChild(this.payPalButtonContainerElem.nativeElement.firstChild);\r\n            }\r\n        }\r\n        this.cdr.detectChanges();\r\n        if (this.config) {\r\n            if (!this.payPal) {\r\n                this.initPayPalScript(this.config, (/**\r\n                 * @param {?} payPal\r\n                 * @return {?}\r\n                 */\r\n                (payPal) => {\r\n                    // store reference to paypal global script\r\n                    this.payPal = payPal;\r\n                    this.doPayPalCheck();\r\n                }));\r\n            }\r\n            else {\r\n                this.doPayPalCheck();\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    doPayPalCheck() {\r\n        if (this.initializePayPal && this.config && this.payPal && this.payPalButtonContainerElem) {\r\n            // make sure that id is also set\r\n            if (this.payPalButtonContainerElem.nativeElement.id) {\r\n                this.initializePayPal = false;\r\n                this.initPayPal(this.config, this.payPal);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @private\r\n     * @param {?} config\r\n     * @param {?} initPayPal\r\n     * @return {?}\r\n     */\r\n    initPayPalScript(config, initPayPal) {\r\n        this.paypalScriptService.registerPayPalScript({\r\n            clientId: config.clientId,\r\n            commit: config.advanced && config.advanced.commit ? config.advanced.commit : undefined,\r\n            currency: config.currency,\r\n            vault: config.vault,\r\n            extraParams: config.advanced && config.advanced.extraQueryParams ? config.advanced.extraQueryParams : []\r\n        }, (/**\r\n         * @param {?} paypal\r\n         * @return {?}\r\n         */\r\n        (paypal) => {\r\n            this.scriptLoaded.next(paypal);\r\n            initPayPal(paypal);\r\n        }));\r\n    }\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    generateElementId() {\r\n        return `ngx-captcha-id-${new Date().valueOf()}`;\r\n    }\r\n    /**\r\n     * @private\r\n     * @param {?} config\r\n     * @param {?} paypal\r\n     * @return {?}\r\n     */\r\n    initPayPal(config, paypal) {\r\n        // Running outside angular zone prevents infinite ngDoCheck lifecycle calls\r\n        this.ngZone.runOutsideAngular((/**\r\n         * @return {?}\r\n         */\r\n        () => {\r\n            // https://developer.paypal.com/docs/checkout/integrate/#2-add-the-paypal-script-to-your-web-page\r\n            /** @type {?} */\r\n            const createOrder = (/**\r\n             * @param {?} data\r\n             * @param {?} actions\r\n             * @return {?}\r\n             */\r\n            (data, actions) => {\r\n                return this.ngZone.run((/**\r\n                 * @return {?}\r\n                 */\r\n                () => {\r\n                    if (config.createOrderOnClient && config.createOrderOnServer) {\r\n                        throw Error(`Both 'createOrderOnClient' and 'createOrderOnServer' are defined.\r\n                    Please choose one or the other.`);\r\n                    }\r\n                    if (!config.createOrderOnClient && !config.createOrderOnServer) {\r\n                        throw Error(`Neither 'createOrderOnClient' or 'createOrderOnServer' are defined.\r\n                    Please define one of these to create order.`);\r\n                    }\r\n                    if (config.createOrderOnClient) {\r\n                        return actions.order.create(config.createOrderOnClient(data));\r\n                    }\r\n                    if (config.createOrderOnServer) {\r\n                        return config.createOrderOnServer(data);\r\n                    }\r\n                    throw Error(`Invalid state for 'createOrder'.`);\r\n                }));\r\n            });\r\n            /** @type {?} */\r\n            const createSubscription = (/**\r\n             * @param {?} data\r\n             * @param {?} actions\r\n             * @return {?}\r\n             */\r\n            (data, actions) => {\r\n                return this.ngZone.run((/**\r\n                 * @return {?}\r\n                 */\r\n                () => {\r\n                    if (config.createSubscription) {\r\n                        return config.createSubscription(data, actions);\r\n                    }\r\n                }));\r\n            });\r\n            /** @type {?} */\r\n            const onShippingChange = (/**\r\n             * @param {?} data\r\n             * @param {?} actions\r\n             * @return {?}\r\n             */\r\n            (data, actions) => {\r\n                return this.ngZone.run((/**\r\n                 * @return {?}\r\n                 */\r\n                () => {\r\n                    if (config.onShippingChange) {\r\n                        return config.onShippingChange(data, actions);\r\n                    }\r\n                }));\r\n            });\r\n            /** @type {?} */\r\n            const buttonsConfig = Object.assign(Object.assign(Object.assign({ style: config.style, onApprove: (/**\r\n                 * @param {?} data\r\n                 * @param {?} actions\r\n                 * @return {?}\r\n                 */\r\n                (data, actions) => {\r\n                    return this.ngZone.run((/**\r\n                     * @return {?}\r\n                     */\r\n                    () => {\r\n                        if (config.onApprove) {\r\n                            config.onApprove(data, actions);\r\n                        }\r\n                        // capture on server\r\n                        if (config.authorizeOnServer) {\r\n                            return config.authorizeOnServer(data, actions);\r\n                        }\r\n                        // capture on client\r\n                        /** @type {?} */\r\n                        const onClientAuthorization = config.onClientAuthorization;\r\n                        if (onClientAuthorization) {\r\n                            actions.order.capture().then((/**\r\n                             * @param {?} details\r\n                             * @return {?}\r\n                             */\r\n                            (details) => {\r\n                                this.ngZone.run((/**\r\n                                 * @return {?}\r\n                                 */\r\n                                () => {\r\n                                    onClientAuthorization(details);\r\n                                }));\r\n                            }));\r\n                            return;\r\n                        }\r\n                    }));\r\n                }), onError: (/**\r\n                 * @param {?} error\r\n                 * @return {?}\r\n                 */\r\n                (error) => {\r\n                    this.ngZone.run((/**\r\n                     * @return {?}\r\n                     */\r\n                    () => {\r\n                        if (config.onError) {\r\n                            config.onError(error);\r\n                        }\r\n                    }));\r\n                }), onCancel: (/**\r\n                 * @param {?} data\r\n                 * @param {?} actions\r\n                 * @return {?}\r\n                 */\r\n                (data, actions) => {\r\n                    this.ngZone.run((/**\r\n                     * @return {?}\r\n                     */\r\n                    () => {\r\n                        if (config.onCancel) {\r\n                            config.onCancel(data, actions);\r\n                        }\r\n                    }));\r\n                }), onClick: (/**\r\n                 * @param {?} data\r\n                 * @param {?} actions\r\n                 * @return {?}\r\n                 */\r\n                (data, actions) => {\r\n                    this.ngZone.run((/**\r\n                     * @return {?}\r\n                     */\r\n                    () => {\r\n                        if (config.onClick) {\r\n                            config.onClick(data, actions);\r\n                        }\r\n                    }));\r\n                }), onInit: (/**\r\n                 * @param {?} data\r\n                 * @param {?} actions\r\n                 * @return {?}\r\n                 */\r\n                (data, actions) => {\r\n                    this.ngZone.run((/**\r\n                     * @return {?}\r\n                     */\r\n                    () => {\r\n                        if (config.onInit) {\r\n                            config.onInit(data, actions);\r\n                        }\r\n                    }));\r\n                }) }, ((config.createOrderOnClient || config.createOrderOnServer) && { createOrder })), (config.createSubscription && { createSubscription })), (config.onShippingChange && { onShippingChange }));\r\n            paypal.Buttons(buttonsConfig).render(`#${this.payPalButtonContainerId}`);\r\n        }));\r\n    }\r\n}\nNgxPaypalComponent.ɵfac = function NgxPaypalComponent_Factory(t) { return new (t || NgxPaypalComponent)(ɵngcc0.ɵɵdirectiveInject(PayPalScriptService), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.NgZone)); };\nNgxPaypalComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: NgxPaypalComponent, selectors: [[\"ngx-paypal\"]], viewQuery: function NgxPaypalComponent_Query(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(_c0, true);\n    } if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.payPalButtonContainer = _t.first);\n    } }, inputs: { registerScript: \"registerScript\", config: \"config\" }, outputs: { scriptLoaded: \"scriptLoaded\" }, features: [ɵngcc0.ɵɵNgOnChangesFeature], decls: 2, vars: 1, consts: [[3, \"id\"], [\"payPalButtonContainer\", \"\"]], template: function NgxPaypalComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelement(0, \"div\", 0, 1);\n    } if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"id\", ctx.payPalButtonContainerId);\n    } }, encapsulation: 2, changeDetection: 0 });\r\n/** @nocollapse */\r\nNgxPaypalComponent.ctorParameters = () => [\r\n    { type: PayPalScriptService },\r\n    { type: ChangeDetectorRef },\r\n    { type: NgZone }\r\n];\r\nNgxPaypalComponent.propDecorators = {\r\n    config: [{ type: Input }],\r\n    registerScript: [{ type: Input }],\r\n    scriptLoaded: [{ type: Output }],\r\n    payPalButtonContainer: [{ type: ViewChild, args: ['payPalButtonContainer', { static: false },] }]\r\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(NgxPaypalComponent, [{\n        type: Component,\n        args: [{\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                selector: 'ngx-paypal',\n                template: `\r\n    <div #payPalButtonContainer [id]=\"payPalButtonContainerId\"></div>\r\n    `\n            }]\n    }], function () { return [{ type: PayPalScriptService }, { type: ɵngcc0.ChangeDetectorRef }, { type: ɵngcc0.NgZone }]; }, { registerScript: [{\n            type: Input\n        }], scriptLoaded: [{\n            type: Output\n        }], payPalButtonContainer: [{\n            type: ViewChild,\n            args: ['payPalButtonContainer', { static: false }]\n        }], config: [{\n            type: Input\n        }] }); })();\r\nif (false) {\r\n    /**\r\n     * Configuration for paypal.\r\n     * @type {?}\r\n     */\r\n    NgxPaypalComponent.prototype.config;\r\n    /**\r\n     * If enabled, paypal SDK script will be loaded. Useful if you want to have multiple PayPal components on the same page\r\n     * sharing base configuration. In such a case only a single component may register script.\r\n     * @type {?}\r\n     */\r\n    NgxPaypalComponent.prototype.registerScript;\r\n    /**\r\n     * Emitted when paypal script is loaded\r\n     * @type {?}\r\n     */\r\n    NgxPaypalComponent.prototype.scriptLoaded;\r\n    /**\r\n     * Id of the element where PayPal button will be rendered\r\n     * @type {?}\r\n     */\r\n    NgxPaypalComponent.prototype.payPalButtonContainerId;\r\n    /**\r\n     * @type {?}\r\n     * @private\r\n     */\r\n    NgxPaypalComponent.prototype.ngUnsubscribe;\r\n    /**\r\n     * @type {?}\r\n     * @private\r\n     */\r\n    NgxPaypalComponent.prototype.payPalButtonContainerElem;\r\n    /**\r\n     * Flag that indicates if paypal should be initialized (required for handling script load events and availability of DOM element)\r\n     * @type {?}\r\n     * @private\r\n     */\r\n    NgxPaypalComponent.prototype.initializePayPal;\r\n    /**\r\n     * Reference to PayPal global API\r\n     * @type {?}\r\n     * @private\r\n     */\r\n    NgxPaypalComponent.prototype.payPal;\r\n    /**\r\n     * @type {?}\r\n     * @private\r\n     */\r\n    NgxPaypalComponent.prototype.paypalScriptService;\r\n    /**\r\n     * @type {?}\r\n     * @private\r\n     */\r\n    NgxPaypalComponent.prototype.cdr;\r\n    /**\r\n     * @type {?}\r\n     * @private\r\n     */\r\n    NgxPaypalComponent.prototype.ngZone;\r\n}\n\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: lib/ngx-paypal.module.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nclass NgxPayPalModule {\r\n}\nNgxPayPalModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: NgxPayPalModule });\nNgxPayPalModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function NgxPayPalModule_Factory(t) { return new (t || NgxPayPalModule)(); }, providers: [\n        ScriptService,\n        PayPalScriptService\n    ], imports: [[\n            CommonModule\n        ]] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(NgxPayPalModule, { declarations: function () { return [NgxPaypalComponent]; }, imports: function () { return [CommonModule]; }, exports: function () { return [NgxPaypalComponent]; } }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(NgxPayPalModule, [{\n        type: NgModule,\n        args: [{\n                imports: [\n                    CommonModule\n                ],\n                declarations: [\n                    NgxPaypalComponent,\n                ],\n                exports: [\n                    NgxPaypalComponent,\n                ],\n                providers: [\n                    ScriptService,\n                    PayPalScriptService\n                ]\n            }]\n    }], null, null); })();\n\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: lib/models/paypal-models.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\n/**\r\n * @record\r\n */\r\nfunction IPayPalConfig() { }\r\nif (false) {\r\n    /**\r\n     * Currency - Defaults to USD if not provided\r\n     * @type {?|undefined}\r\n     */\r\n    IPayPalConfig.prototype.currency;\r\n    /**\r\n     * Use when creating order on client\r\n     * @type {?|undefined}\r\n     */\r\n    IPayPalConfig.prototype.createOrderOnClient;\r\n    /**\r\n     * Use for creating orders on server. PayPal expects you to return 'orderId' in this method\r\n     * @type {?|undefined}\r\n     */\r\n    IPayPalConfig.prototype.createOrderOnServer;\r\n    /**\r\n     * Advanced configuration\r\n     * @type {?|undefined}\r\n     */\r\n    IPayPalConfig.prototype.advanced;\r\n    /**\r\n     * Client id\r\n     * @type {?}\r\n     */\r\n    IPayPalConfig.prototype.clientId;\r\n    /**\r\n     * Shipping callback\r\n     * see https://developer.paypal.com/docs/checkout/integration-features/shipping-callback/\r\n     * @type {?|undefined}\r\n     */\r\n    IPayPalConfig.prototype.onShippingChange;\r\n    /**\r\n     * Called when 'onApprove' event occurs\r\n     * @type {?|undefined}\r\n     */\r\n    IPayPalConfig.prototype.onApprove;\r\n    /**\r\n     * Called when authorization on client succeeds\r\n     * @type {?|undefined}\r\n     */\r\n    IPayPalConfig.prototype.onClientAuthorization;\r\n    /**\r\n     * Implement for authorizing on server side\r\n     * @type {?|undefined}\r\n     */\r\n    IPayPalConfig.prototype.authorizeOnServer;\r\n    /**\r\n     * Button style configuration\r\n     * @type {?|undefined}\r\n     */\r\n    IPayPalConfig.prototype.style;\r\n    /**\r\n     * Error handler\r\n     * @type {?|undefined}\r\n     */\r\n    IPayPalConfig.prototype.onError;\r\n    /**\r\n     * Click handler\r\n     * @type {?|undefined}\r\n     */\r\n    IPayPalConfig.prototype.onClick;\r\n    /**\r\n     * Cancel handler\r\n     * @type {?|undefined}\r\n     */\r\n    IPayPalConfig.prototype.onCancel;\r\n    /**\r\n     * Init handler.\r\n     * can be used for validation, see: https://developer.paypal.com/docs/checkout/integration-features/validation/#\r\n     * @type {?|undefined}\r\n     */\r\n    IPayPalConfig.prototype.onInit;\r\n    /**\r\n     * Create subscription handler\r\n     * https://developer.paypal.com/docs/subscriptions/integrate/\r\n     *\r\n     * Note: the vault property in the advanced configuration also has to be set to true\r\n     * @type {?|undefined}\r\n     */\r\n    IPayPalConfig.prototype.createSubscription;\r\n    /**\r\n     * Vault - must be set to true when creating subscriptions\r\n     * @type {?|undefined}\r\n     */\r\n    IPayPalConfig.prototype.vault;\r\n}\r\n/**\r\n * @record\r\n */\r\nfunction IPayPalUrlConfig() { }\r\nif (false) {\r\n    /** @type {?} */\r\n    IPayPalUrlConfig.prototype.clientId;\r\n    /** @type {?|undefined} */\r\n    IPayPalUrlConfig.prototype.currency;\r\n    /** @type {?|undefined} */\r\n    IPayPalUrlConfig.prototype.commit;\r\n    /** @type {?|undefined} */\r\n    IPayPalUrlConfig.prototype.vault;\r\n    /** @type {?|undefined} */\r\n    IPayPalUrlConfig.prototype.extraParams;\r\n}\r\n/**\r\n * @record\r\n */\r\nfunction IOrderDetails() { }\r\nif (false) {\r\n    /** @type {?} */\r\n    IOrderDetails.prototype.create_time;\r\n    /** @type {?} */\r\n    IOrderDetails.prototype.update_time;\r\n    /** @type {?} */\r\n    IOrderDetails.prototype.id;\r\n    /** @type {?} */\r\n    IOrderDetails.prototype.intent;\r\n    /** @type {?} */\r\n    IOrderDetails.prototype.payer;\r\n    /** @type {?} */\r\n    IOrderDetails.prototype.status;\r\n    /** @type {?} */\r\n    IOrderDetails.prototype.links;\r\n    /** @type {?} */\r\n    IOrderDetails.prototype.purchase_units;\r\n}\r\n/**\r\n * @record\r\n */\r\nfunction IClientAuthorizeCallbackData() { }\r\nif (false) {\r\n    /** @type {?} */\r\n    IClientAuthorizeCallbackData.prototype.links;\r\n}\r\n/**\r\n * @record\r\n */\r\nfunction ILinkDescription() { }\r\nif (false) {\r\n    /** @type {?} */\r\n    ILinkDescription.prototype.href;\r\n    /** @type {?} */\r\n    ILinkDescription.prototype.rel;\r\n    /** @type {?|undefined} */\r\n    ILinkDescription.prototype.method;\r\n}\r\n/**\r\n * @record\r\n */\r\nfunction IQueryParam() { }\r\nif (false) {\r\n    /** @type {?} */\r\n    IQueryParam.prototype.name;\r\n    /** @type {?} */\r\n    IQueryParam.prototype.value;\r\n}\r\n/**\r\n * @record\r\n */\r\nfunction IOnShippingChangeData() { }\r\nif (false) {\r\n    /** @type {?} */\r\n    IOnShippingChangeData.prototype.paymentToken;\r\n    /** @type {?} */\r\n    IOnShippingChangeData.prototype.shipping_address;\r\n    /** @type {?|undefined} */\r\n    IOnShippingChangeData.prototype.selected_shipping_method;\r\n}\r\n/**\r\n * @record\r\n */\r\nfunction IOnShippingChangeActions() { }\r\nif (false) {\r\n    /** @type {?} */\r\n    IOnShippingChangeActions.prototype.resolve;\r\n    /** @type {?} */\r\n    IOnShippingChangeActions.prototype.reject;\r\n    /** @type {?} */\r\n    IOnShippingChangeActions.prototype.patch;\r\n}\r\n/**\r\n * @record\r\n */\r\nfunction IAdvancedConfiguration() { }\r\nif (false) {\r\n    /** @type {?|undefined} */\r\n    IAdvancedConfiguration.prototype.commit;\r\n    /** @type {?|undefined} */\r\n    IAdvancedConfiguration.prototype.extraQueryParams;\r\n}\r\n/**\r\n * @record\r\n */\r\nfunction IOnApproveCallbackData() { }\r\nif (false) {\r\n    /** @type {?} */\r\n    IOnApproveCallbackData.prototype.orderID;\r\n    /** @type {?} */\r\n    IOnApproveCallbackData.prototype.payerID;\r\n    /** @type {?} */\r\n    IOnApproveCallbackData.prototype.subscriptionID;\r\n}\r\n/**\r\n * @record\r\n */\r\nfunction ICreateOrderCallbackActions() { }\r\nif (false) {\r\n    /** @type {?} */\r\n    ICreateOrderCallbackActions.prototype.order;\r\n}\r\n/**\r\n * @record\r\n */\r\nfunction ICancelCallbackData() { }\r\nif (false) {\r\n    /** @type {?} */\r\n    ICancelCallbackData.prototype.orderID;\r\n}\r\n/**\r\n * @record\r\n */\r\nfunction IOnApproveCallbackActions() { }\r\nif (false) {\r\n    /** @type {?} */\r\n    IOnApproveCallbackActions.prototype.redirect;\r\n    /** @type {?} */\r\n    IOnApproveCallbackActions.prototype.restart;\r\n    /** @type {?} */\r\n    IOnApproveCallbackActions.prototype.order;\r\n}\r\n/**\r\n * @record\r\n */\r\nfunction IOnInitCallbackActions() { }\r\nif (false) {\r\n    /** @type {?} */\r\n    IOnInitCallbackActions.prototype.enable;\r\n    /** @type {?} */\r\n    IOnInitCallbackActions.prototype.disable;\r\n}\r\n/**\r\n * @record\r\n */\r\nfunction ICreateSubscriptionCallbackActions() { }\r\nif (false) {\r\n    /** @type {?} */\r\n    ICreateSubscriptionCallbackActions.prototype.subscription;\r\n}\r\n/**\r\n * @record\r\n */\r\nfunction IInitCallbackData() { }\r\n/**\r\n * @record\r\n */\r\nfunction ICreateSubscriptionCallbackData() { }\r\n/**\r\n * @record\r\n */\r\nfunction IOnClickCallbackActions() { }\r\nif (false) {\r\n    /** @type {?} */\r\n    IOnClickCallbackActions.prototype.resolve;\r\n    /** @type {?} */\r\n    IOnClickCallbackActions.prototype.reject;\r\n}\r\n/**\r\n * @record\r\n */\r\nfunction IPayPalButtonStyle() { }\r\nif (false) {\r\n    /** @type {?|undefined} */\r\n    IPayPalButtonStyle.prototype.label;\r\n    /** @type {?|undefined} */\r\n    IPayPalButtonStyle.prototype.size;\r\n    /** @type {?|undefined} */\r\n    IPayPalButtonStyle.prototype.shape;\r\n    /** @type {?|undefined} */\r\n    IPayPalButtonStyle.prototype.color;\r\n    /** @type {?|undefined} */\r\n    IPayPalButtonStyle.prototype.layout;\r\n    /** @type {?|undefined} */\r\n    IPayPalButtonStyle.prototype.tagline;\r\n}\r\n/**\r\n * @record\r\n */\r\nfunction ICreateOrderRequest() { }\r\nif (false) {\r\n    /** @type {?} */\r\n    ICreateOrderRequest.prototype.intent;\r\n    /** @type {?} */\r\n    ICreateOrderRequest.prototype.purchase_units;\r\n    /** @type {?|undefined} */\r\n    ICreateOrderRequest.prototype.payer;\r\n    /** @type {?|undefined} */\r\n    ICreateOrderRequest.prototype.application_context;\r\n}\r\n/**\r\n * @record\r\n */\r\nfunction ICreateSubscriptionRequest() { }\r\nif (false) {\r\n    /** @type {?} */\r\n    ICreateSubscriptionRequest.prototype.plan_id;\r\n}\r\n/**\r\n * @record\r\n */\r\nfunction IPayer() { }\r\nif (false) {\r\n    /** @type {?|undefined} */\r\n    IPayer.prototype.name;\r\n    /** @type {?|undefined} */\r\n    IPayer.prototype.email_address;\r\n    /** @type {?|undefined} */\r\n    IPayer.prototype.payer_id;\r\n    /** @type {?|undefined} */\r\n    IPayer.prototype.birth_date;\r\n    /** @type {?|undefined} */\r\n    IPayer.prototype.tax_info;\r\n    /** @type {?|undefined} */\r\n    IPayer.prototype.address;\r\n}\r\n/**\r\n * @record\r\n */\r\nfunction IApplicationContext() { }\r\nif (false) {\r\n    /** @type {?|undefined} */\r\n    IApplicationContext.prototype.brand_name;\r\n    /** @type {?|undefined} */\r\n    IApplicationContext.prototype.locale;\r\n    /** @type {?|undefined} */\r\n    IApplicationContext.prototype.landing_page;\r\n    /** @type {?|undefined} */\r\n    IApplicationContext.prototype.shipping_preference;\r\n    /** @type {?|undefined} */\r\n    IApplicationContext.prototype.user_action;\r\n    /** @type {?|undefined} */\r\n    IApplicationContext.prototype.payment_method;\r\n    /** @type {?|undefined} */\r\n    IApplicationContext.prototype.return_url;\r\n    /** @type {?|undefined} */\r\n    IApplicationContext.prototype.cancel_url;\r\n}\r\n/**\r\n * @record\r\n */\r\nfunction IPaymentMethod() { }\r\nif (false) {\r\n    /** @type {?|undefined} */\r\n    IPaymentMethod.prototype.payer_selected;\r\n    /** @type {?|undefined} */\r\n    IPaymentMethod.prototype.payee_preferred;\r\n}\r\n/**\r\n * @record\r\n */\r\nfunction IPhone() { }\r\nif (false) {\r\n    /** @type {?|undefined} */\r\n    IPhone.prototype.phone_type;\r\n    /** @type {?|undefined} */\r\n    IPhone.prototype.phone_number;\r\n}\r\n/**\r\n * @record\r\n */\r\nfunction ITaxInfo() { }\r\nif (false) {\r\n    /** @type {?} */\r\n    ITaxInfo.prototype.tax_id;\r\n    /** @type {?} */\r\n    ITaxInfo.prototype.tax_id_type;\r\n}\r\n/**\r\n * @record\r\n */\r\nfunction IPhoneNumber() { }\r\nif (false) {\r\n    /** @type {?} */\r\n    IPhoneNumber.prototype.national_number;\r\n}\r\n/**\r\n * @record\r\n */\r\nfunction IPurchaseUnit() { }\r\nif (false) {\r\n    /** @type {?} */\r\n    IPurchaseUnit.prototype.amount;\r\n    /** @type {?|undefined} */\r\n    IPurchaseUnit.prototype.reference_id;\r\n    /** @type {?|undefined} */\r\n    IPurchaseUnit.prototype.payee;\r\n    /** @type {?|undefined} */\r\n    IPurchaseUnit.prototype.payment_instruction;\r\n    /** @type {?|undefined} */\r\n    IPurchaseUnit.prototype.description;\r\n    /** @type {?|undefined} */\r\n    IPurchaseUnit.prototype.custom_id;\r\n    /** @type {?|undefined} */\r\n    IPurchaseUnit.prototype.invoice_id;\r\n    /** @type {?|undefined} */\r\n    IPurchaseUnit.prototype.soft_descriptor;\r\n    /** @type {?} */\r\n    IPurchaseUnit.prototype.items;\r\n    /** @type {?|undefined} */\r\n    IPurchaseUnit.prototype.shipping;\r\n}\r\n/**\r\n * @record\r\n */\r\nfunction IPayee() { }\r\nif (false) {\r\n    /** @type {?|undefined} */\r\n    IPayee.prototype.email_address;\r\n    /** @type {?|undefined} */\r\n    IPayee.prototype.merchant_id;\r\n}\r\n/**\r\n * @record\r\n */\r\nfunction IPaymentInstructions() { }\r\nif (false) {\r\n    /** @type {?|undefined} */\r\n    IPaymentInstructions.prototype.platform_fees;\r\n    /** @type {?|undefined} */\r\n    IPaymentInstructions.prototype.disbursement_mode;\r\n}\r\n/**\r\n * @record\r\n */\r\nfunction IPlatformFee() { }\r\nif (false) {\r\n    /** @type {?} */\r\n    IPlatformFee.prototype.amount;\r\n    /** @type {?|undefined} */\r\n    IPlatformFee.prototype.payee;\r\n}\r\n/**\r\n * @record\r\n */\r\nfunction ITransactionItem() { }\r\nif (false) {\r\n    /** @type {?} */\r\n    ITransactionItem.prototype.name;\r\n    /** @type {?} */\r\n    ITransactionItem.prototype.unit_amount;\r\n    /** @type {?} */\r\n    ITransactionItem.prototype.quantity;\r\n    /** @type {?|undefined} */\r\n    ITransactionItem.prototype.description;\r\n    /** @type {?|undefined} */\r\n    ITransactionItem.prototype.sku;\r\n    /** @type {?|undefined} */\r\n    ITransactionItem.prototype.category;\r\n    /** @type {?|undefined} */\r\n    ITransactionItem.prototype.tax;\r\n}\r\n/**\r\n * @record\r\n */\r\nfunction ITax() { }\r\nif (false) {\r\n    /** @type {?} */\r\n    ITax.prototype.currency_code;\r\n    /** @type {?} */\r\n    ITax.prototype.value;\r\n}\r\n/**\r\n * @record\r\n */\r\nfunction IUnitAmount() { }\r\nif (false) {\r\n    /** @type {?} */\r\n    IUnitAmount.prototype.currency_code;\r\n    /** @type {?} */\r\n    IUnitAmount.prototype.value;\r\n    /** @type {?|undefined} */\r\n    IUnitAmount.prototype.breakdown;\r\n}\r\n/**\r\n * @record\r\n */\r\nfunction IMoney() { }\r\nif (false) {\r\n    /** @type {?} */\r\n    IMoney.prototype.currency_code;\r\n    /** @type {?} */\r\n    IMoney.prototype.value;\r\n}\r\n/**\r\n * @record\r\n */\r\nfunction IUnitBreakdown() { }\r\nif (false) {\r\n    /** @type {?|undefined} */\r\n    IUnitBreakdown.prototype.item_total;\r\n    /** @type {?|undefined} */\r\n    IUnitBreakdown.prototype.shipping;\r\n    /** @type {?|undefined} */\r\n    IUnitBreakdown.prototype.handling;\r\n    /** @type {?|undefined} */\r\n    IUnitBreakdown.prototype.tax_total;\r\n    /** @type {?|undefined} */\r\n    IUnitBreakdown.prototype.insurance;\r\n    /** @type {?|undefined} */\r\n    IUnitBreakdown.prototype.shipping_discount;\r\n    /** @type {?|undefined} */\r\n    IUnitBreakdown.prototype.discount;\r\n}\r\n/**\r\n * @record\r\n */\r\nfunction IPartyName() { }\r\nif (false) {\r\n    /** @type {?|undefined} */\r\n    IPartyName.prototype.prefix;\r\n    /** @type {?|undefined} */\r\n    IPartyName.prototype.given_name;\r\n    /** @type {?|undefined} */\r\n    IPartyName.prototype.surname;\r\n    /** @type {?|undefined} */\r\n    IPartyName.prototype.middle_name;\r\n    /** @type {?|undefined} */\r\n    IPartyName.prototype.suffix;\r\n    /** @type {?|undefined} */\r\n    IPartyName.prototype.alternate_full_name;\r\n    /** @type {?|undefined} */\r\n    IPartyName.prototype.full_name;\r\n}\r\n/**\r\n * @record\r\n */\r\nfunction IAddressPortable() { }\r\nif (false) {\r\n    /** @type {?} */\r\n    IAddressPortable.prototype.country_code;\r\n    /** @type {?|undefined} */\r\n    IAddressPortable.prototype.address_line_1;\r\n    /** @type {?|undefined} */\r\n    IAddressPortable.prototype.address_line_2;\r\n    /** @type {?|undefined} */\r\n    IAddressPortable.prototype.admin_area_2;\r\n    /** @type {?|undefined} */\r\n    IAddressPortable.prototype.admin_area_1;\r\n    /** @type {?|undefined} */\r\n    IAddressPortable.prototype.postal_code;\r\n}\r\n/**\r\n * @record\r\n */\r\nfunction IShipping() { }\r\nif (false) {\r\n    /** @type {?|undefined} */\r\n    IShipping.prototype.name;\r\n    /** @type {?|undefined} */\r\n    IShipping.prototype.address;\r\n}\n\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: public_api.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * Generated from: ngx-paypal.ts\r\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\nexport { NgxPayPalModule, NgxPaypalComponent, PayPalScriptService, ScriptService as ɵa };\n\n//# sourceMappingURL=ngx-paypal.js.map","/*\n  Authors : initappz (Rahul Jograna)\n  Website : https://initappz.com/\n  App Name : ionic 5 groceryee app\n  Created : 10-Sep-2020\n  This App Template Source code is licensed as per the\n  terms found in the Website https://initappz.com/license\n  Copyright and Good Faith Purchasers © 2020-present initappz.\n*/\nimport { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { CheckoutComponent } from './checkout.component';\nimport { AuthGuard } from 'src/app/guard/auth.guard';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CheckoutComponent,\n    canActivate: [AuthGuard]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class CheckoutRoutingModule { }\n","<!--\n   Authors : initappz (Rahul Jograna)\n  Website : https://initappz.com/\n  App Name : ionic 5 groceryee app\n  Created : 10-Sep-2020\n  This App Template Source code is licensed as per the\n  terms found in the Website https://initappz.com/license\n  Copyright and Good Faith Purchasers © 2020-present initappz.\n -->\n<div class=\"container\" *ngIf=\"cart.cart?.length\">\n\n  <div mdbModal #frame=\"mdbModal\" class=\"modal fade center\" id=\"frameModalTop\" tabindex=\"-1\" role=\"dialog\"\n    aria-labelledby=\"myModalLabel\" aria-hidden=\"true\" style=\"z-index: 9999;\">\n    <div class=\"modal-dialog modal-notify modal-success\" role=\"document\">\n      <!--Content-->\n      <div class=\"modal-content\">\n        <!--Header-->\n        <div class=\"modal-header\">\n          <p class=\"heading lead\" style=\"text-align: center;\"> {{util.getString('Pay With Stripe')}} </p>\n\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"frame.hide()\">\n            <span aria-hidden=\"true\" class=\"white-text\">&times;</span>\n          </button>\n        </div>\n\n        <!--Body-->\n        <div class=\"modal-body\">\n          <div class=\"row d-flex justify-content-center align-items-center\" *ngIf=\"!addCard\">\n            <a type=\"button\" mdbBtn color=\"primary\" outline=\"true\" class=\"waves-light\" mdbWavesEffect\n              data-dismiss=\"modal\" (click)=\"addCard = true\" *ngIf=\"cards?.length\"> {{util.getString('Add New Card')}}\n            </a>\n          </div>\n          <hr *ngIf=\"!addCard\">\n          <div *ngIf=\"!addCard\">\n            <div class=\"form-check\" *ngFor=\"let card of cards;let i = index\">\n              <input type=\"radio\" [(ngModel)]=\"token\" class=\"form-check-input\" [value]=\"card.id\" [id]=\"card.id\"\n                name=\"materialExampleRadios\" mdbInput [checked]=\"card.id === token ? true:false\">\n              <label class=\"form-check-label txtLbl\" [for]=\"card.id\"> {{card.brand}}\n                XXXX{{card.last4}} {{util.getString('Expiry')}} {{card.exp_month}} / {{card.exp_year}}\n              </label>\n            </div>\n          </div>\n          <div *ngIf=\"!cards?.length || addCard\">\n            <!-- <input type=\"email\" placeholder=\"Email\" [(ngModel)]=\"email\" class=\"form-control inputItem\"> -->\n            <div class=\"md-form\">\n              <input id=\"cnum\" [(ngModel)]=\"cnumber\" class=\"form-control\" type=\"tel\" autocomplete=\"cc-number\" ccNumber\n                mdbInput>\n              <label for=\"cnum\"> {{util.getString('Card Number')}} </label>\n            </div>\n            <div class=\"md-form\">\n              <input id=\"cvc\" [(ngModel)]=\"cvc\" class=\"form-control\" type=\"tel\" autocomplete=\"off\" ccCvc mdbInput>\n              <label for=\"cvc\">{{util.getString('CVC')}} </label>\n            </div>\n            <div class=\"md-form\">\n              <input id=\"date\" [(ngModel)]=\"date\" class=\"form-control\" type=\"tel\" autocomplete=\"cc-exp\" ccExp mdbInput>\n              <label for=\"date\">{{util.getString('Choose your date')}} </label>\n            </div>\n            <div class=\"md-form\">\n              <input type=\"text\" id=\"cname\" class=\"form-control\" [(ngModel)]=\"cname\" mdbInput>\n              <label for=\"cname\"> {{util.getString('Card holder name')}} </label>\n            </div>\n            <div class=\"md-form\">\n              <input type=\"email\" id=\"email\" class=\"form-control\" [(ngModel)]=\"email\" mdbInput>\n              <label for=\"email\"> {{util.getString('Email')}} </label>\n            </div>\n\n          </div>\n        </div>\n\n        <!--Footer-->\n        <div class=\"modal-footer justify-content-center\" *ngIf=\"!addCard && cards.length\">\n          <a type=\"button\" mdbBtn color=\"primary\" class=\"waves-light\" mdbWavesEffect\n            (click)=\"payWithCard()\">{{util.getString('Submit')}}\n          </a>\n        </div>\n\n        <div class=\"modal-footer justify-content-center\" *ngIf=\"addCard || !cards?.length\">\n          <a type=\"button\" mdbBtn color=\"primary\" class=\"waves-light\" mdbWavesEffect\n            (click)=\"addcard()\">{{util.getString('Pay')}}\n          </a>\n          <a type=\"button\" mdbBtn color=\"primary\" outline=\"true\" class=\"waves-light\" mdbWavesEffect data-dismiss=\"modal\"\n            (click)=\"addCard = false;frame.hide()\"> {{util.getString('Cancel')}} </a>\n        </div>\n      </div>\n      <!--/.Content-->\n    </div>\n  </div>\n\n  <div mdbModal #newAddress=\"mdbModal\" class=\"modal fade center\" id=\"frameModalTop\" tabindex=\"-1\" role=\"dialog\"\n    aria-labelledby=\"myModalLabel\" aria-hidden=\"true\" style=\"z-index: 9999;\">\n    <div class=\"modal-dialog modal-notify modal-success\" role=\"document\">\n      <!--Content-->\n      <div class=\"modal-content\">\n        <!--Header-->\n        <div class=\"modal-header\">\n          <p class=\"heading lead\" style=\"text-align: center;\"> {{util.getString('Add New Address')}} </p>\n\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"newAddress.hide()\">\n            <span aria-hidden=\"true\" class=\"white-text\">&times;</span>\n          </button>\n        </div>\n\n        <!--Body-->\n        <div class=\"modal-body\">\n\n\n          <div>\n            <div class=\"md-form\">\n              <input id=\"text\" [(ngModel)]=\"address\" class=\"form-control\" type=\"text\" mdbInput>\n              <label for=\"text\"> {{util.getString('LOCATIONS')}} </label>\n            </div>\n            <div class=\"md-form\">\n              <input id=\"house\" [(ngModel)]=\"house\" class=\"form-control\" type=\"text\" mdbInput>\n              <label for=\"house\"> {{util.getString('HOUSE / FLAT NO')}} </label>\n            </div>\n            <div class=\"md-form\">\n              <input id=\"landmark\" [(ngModel)]=\"landmark\" class=\"form-control\" type=\"text\" mdbInput>\n              <label for=\"landmark\"> {{util.getString('LANDMARK')}} </label>\n            </div>\n            <div class=\"md-form\">\n              <input id=\"pincode\" [(ngModel)]=\"pincode\" class=\"form-control\" type=\"text\" mdbInput>\n              <label for=\"pincode\"> {{util.getString('Pincode')}} </label>\n            </div>\n            <div class=\"md-form\">\n              <select class=\"browser-default custom-select\" [(ngModel)]=\"title\">\n                <option value=\"home\"> {{util.getString('HOME')}} </option>\n                <option value=\"work\"> {{util.getString('WORK')}} </option>\n                <option value=\"other\"> {{util.getString('OTHER')}} </option>\n              </select>\n            </div>\n\n          </div>\n        </div>\n\n        <!--Footer-->\n\n\n        <div class=\"modal-footer justify-content-center\">\n          <a type=\"button\" mdbBtn color=\"primary\" class=\"waves-light\" mdbWavesEffect (click)=\"addAddress()\">\n            {{util.getString('Add New Address')}}\n          </a>\n          <a type=\"button\" mdbBtn color=\"primary\" outline=\"true\" class=\"waves-light\" mdbWavesEffect data-dismiss=\"modal\"\n            (click)=\"newAddress.hide()\"> {{util.getString('Cancel')}} </a>\n        </div>\n      </div>\n      <!--/.Content-->\n    </div>\n  </div>\n\n  <div mdbModal #offersModal=\"mdbModal\" class=\"modal fade center\" id=\"frameModalTop\" tabindex=\"-1\" role=\"dialog\"\n    aria-labelledby=\"myModalLabel\" aria-hidden=\"true\" style=\"z-index: 9999;\">\n    <div class=\"modal-dialog modal-notify modal-success\" role=\"document\">\n      <!--Content-->\n      <div class=\"modal-content\">\n        <!--Header-->\n        <div class=\"modal-header\">\n          <p class=\"heading lead\" style=\"text-align: center;\"> {{util.getString('Apply Coupon')}} </p>\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"offersModal.hide()\">\n            <span aria-hidden=\"true\" class=\"white-text\">&times;</span>\n          </button>\n        </div>\n        <div class=\"modal-body\">\n          <div *ngFor=\"let item of offers\" (click)=\"selectedOffers(item)\">\n            <p class=\"couponDesc\">\n              <span class=\"code\"> {{util.getString('Use coupon code')}} {{item.name}} </span> <br>\n              <span class=\"desc\"> {{item.descriptions}} </span> <br>\n              <span class=\"desc\"> {{util.getString('Valid until')}} {{getTime(item.date_time)}} </span> <br>\n            </p>\n          </div>\n        </div>\n        <!--Footer-->\n        <div class=\"modal-footer justify-content-center\">\n          <a type=\"button\" mdbBtn color=\"primary\" outline=\"true\" class=\"waves-light\" mdbWavesEffect data-dismiss=\"modal\"\n            (click)=\"offersModal.hide()\"> {{util.getString('Cancel')}} </a>\n        </div>\n      </div>\n      <!--/.Content-->\n    </div>\n  </div>\n\n  <div class=\"row\">\n    <div class=\"col-md-9 col-12\">\n      <div class=\"bottoms\">\n        <ul>\n          <li [ngClass]=\"selected=== 1 ?'selectedHeaderItem':'headerItem'\">\n            {{util.getString('Delivery Option')}}\n          </li>\n          <li [ngClass]=\"selected=== 2 ?'selectedHeaderItem':'headerItem'\">\n            {{util.getString('Delivery Address')}}\n          </li>\n          <li [ngClass]=\"selected=== 3 ?'selectedHeaderItem':'headerItem'\">\n            {{util.getString('Payment')}}\n          </li>\n        </ul>\n      </div>\n      <div class=\"paider\">\n        <div *ngIf=\"selected===1\" class=\"mainClass\">\n          <p class=\"title\"> {{util.getString('Delivery Options')}} </p>\n          <div class=\"form-check\">\n            <input type=\"radio\" (change)=\"handleChange('home')\" class=\"form-check-input\" id=\"materialUnchecked\"\n              name=\"materialExampleRadios\" [checked]=\"deliveryOption === 'home'?true:false\" value=\"home\" mdbInput>\n            <label class=\"form-check-label\" for=\"materialUnchecked\"> {{util.getString('At Home')}} </label>\n            <img src=\"assets/imgs/home.png\" class=\"imgs\" />\n          </div>\n\n          <div class=\"form-check\">\n            <input type=\"radio\" (change)=\"handleChange('store')\" class=\"form-check-input\" id=\"materialChecked\"\n              name=\"materialExampleRadios\" value=\"store\" mdbInput [checked]=\"deliveryOption === 'store'?true:false\">\n            <label class=\"form-check-label\" for=\"materialChecked\"> {{util.getString('Self Pickup')}} </label>\n            <img src=\"assets/imgs/store.png\" class=\"imgs\" />\n          </div>\n\n          <p class=\"title\"> {{util.getString('Receive at')}} </p>\n\n          <ng-template #popContent2 let-greeting=\"greeting\">\n            <button type=\"button\" class=\"btn btn-clear mr-2 bolder\" (click)=\"onSelect('today')\" mdbWavesEffect mdbBtn\n              triggers=\"manual\">\n              {{util.getString('Today')}} {{today}}\n\n            </button>\n            <button type=\"button\" class=\"btn btn-clear mr-2 bolder\" (click)=\"onSelect('next')\" mdbWavesEffect mdbBtn\n              triggers=\"manual\">\n              {{util.getString('Tomorrow')}} {{nextDay}}\n\n            </button>\n          </ng-template>\n          <button type=\"button\" class=\"btn btn-clear mr-2 dateBtn\" mdbWavesEffect mdbBtn [ngbPopover]=\"popContent2\"\n            triggers=\"manual\" placement=\"bottom\" #p2=\"ngbPopover\" (click)=\"p2.open()\">\n            {{time}}\n            <span class=\"fa fa-chevron-down\" aria-hidden=\"true\"></span>\n          </button>\n\n\n          <div *ngIf=\"deliveryOption === 'store'\">\n            <p class=\"title\"> {{util.getString('Stores')}} </p>\n            <div *ngFor=\"let item of storeAddress\" class=\"stores\">\n              <p class=\"name\">\n                <span class=\"fa fa-map-marker\" aria-hidden=\"true\"></span> {{item.name}}\n              </p>\n              <p class=\"address\"> {{item.address}} </p>\n            </div>\n\n            <p class=\"bottomText\" *ngIf=\"deliveryOption === 'store'\"> <span class=\"bolder\">{{util.getString('Note')}} :\n              </span>\n              {{util.getString(\"Please visit this stores for your grocery , you can find this address in order details as well, if you found more than one address in list then, you have to visit every stores for your grocery\")}}\n            </p>\n          </div>\n\n          <div class=\"nextBtns\">\n            <button mdbBtn type=\"button\" *ngIf=\"selected !== 1\" (click)=\"prev()\" color=\"success\" mdbWavesEffect>\n              <mdb-icon fas icon=\"angle-left\" class=\"mr-1\"></mdb-icon>{{util.getString('Previous')}}\n            </button>\n            <button mdbBtn type=\"button\" color=\"success\" (click)=\"next()\" mdbWavesEffect>\n              <mdb-icon fas icon=\"angle-right\" class=\"mr-1\"></mdb-icon>{{util.getString('Next')}}\n            </button>\n          </div>\n        </div>\n        <!-- FOR Delivery Options -->\n\n        <!-- FOR Address -->\n        <div *ngIf=\"selected === 2\" class=\"mainClass\">\n          <div class=\"nextBtns\">\n            <p class=\"title\"> {{util.getString('Delivery Address')}} </p>\n            <div class=\"newAddress\">\n              <a type=\"button\" mdbBtn color=\"primary\" outline=\"true\" class=\"waves-light\" mdbWavesEffect\n                data-dismiss=\"modal\" (click)=\"addNewAddress()\"> {{util.getString('Add New Address')}} </a>\n            </div>\n\n            <div class=\"form-check\" *ngFor=\"let item of myaddress\">\n              <input type=\"radio\" [(ngModel)]=\"selectedAddress\" class=\"form-check-input\" [value]=\"item.id\"\n                [id]=\"item.id\" name=\"materialExampleRadios\" mdbInput>\n              <label class=\"form-check-label\" [for]=\"item.id\">{{item.title}}\n                <br>\n                <span class=\"name\">{{item.house}} {{item.landmark}} {{item.address}}</span>\n              </label>\n            </div>\n\n            <button mdbBtn type=\"button\" *ngIf=\"selected !== 1\" (click)=\"prev()\" color=\"success\" mdbWavesEffect>\n              <mdb-icon fas icon=\"angle-left\" class=\"mr-1\"></mdb-icon>{{util.getString('Previous')}}\n            </button>\n            <button mdbBtn type=\"button\" color=\"success\" (click)=\"next()\" mdbWavesEffect>\n              <mdb-icon fas icon=\"angle-right\" class=\"mr-1\"></mdb-icon>{{util.getString('Next')}}\n            </button>\n          </div>\n        </div>\n        <!-- FOR Address -->\n\n        <!-- For Payment -->\n        <div *ngIf=\"selected === 3\" class=\"mainClass\">\n          <p class=\"title\"> {{util.getString('Payment Options')}} </p>\n          <div class=\"payPalBtn\">\n            <ngx-paypal [config]=\"payPalConfig\"></ngx-paypal>\n          </div>\n          <div class=\"radioBtns\">\n            <div class=\"form-check\" *ngIf=\"cart.havePayment && cart.haveCOD\">\n              <input type=\"radio\" (change)=\"payMethod('cod')\" class=\"form-check-input\" id=\"paymethodCOD\"\n                name=\"materialExampleRadios\" value=\"cod\" mdbInput>\n              <label class=\"form-check-label\" for=\"paymethodCOD\"> {{util.getString('Cash on delivery')}} </label>\n              <img src=\"assets/imgs/cod.png\" class=\"imgs\" />\n            </div>\n            <div class=\"form-check\" *ngIf=\"cart.havePayment && cart.haveStripe\">\n              <input type=\"radio\" (change)=\"payMethod('stripe')\" class=\"form-check-input\" id=\"paymethodStripe\"\n                name=\"materialExampleRadios\" value=\"stripe\" mdbInput>\n              <label class=\"form-check-label\" for=\"paymethodStripe\">{{util.getString('Pay with Stripe')}} </label>\n              <img src=\"assets/imgs/stripe.png\" class=\"imgs\" />\n            </div>\n\n            <div class=\"form-check\" *ngIf=\"cart.havePayment && cart.haveRazor\">\n              <input type=\"radio\" (change)=\"payMethod('razor')\" class=\"form-check-input\" id=\"paymethodRazor\"\n                name=\"materialExampleRadios\" value=\"stripe\" mdbInput>\n              <label class=\"form-check-label\" for=\"paymethodRazor\">{{util.getString('Pay with Razor')}} </label>\n              <img src=\"assets/imgs/razor.svg\" class=\"imgs\" />\n            </div>\n\n            <div class=\"form-check\" *ngIf=\"cart.havePayment && cart.havePayTM\">\n              <input type=\"radio\" (change)=\"payMethod('paytm')\" class=\"form-check-input\" id=\"paytmPay\"\n                name=\"materialExampleRadios\" value=\"stripe\" mdbInput>\n              <label class=\"form-check-label\" for=\"paytmPay\"> {{util.getString('Pay with PayTM')}} </label>\n              <img src=\"assets/imgs/paytmlogo.png\" class=\"imgs\" />\n            </div>\n\n            <div class=\"form-check\" *ngIf=\"cart.havePayment && cart.haveInstamojo\">\n              <input type=\"radio\" (change)=\"payMethod('instamojo')\" class=\"form-check-input\" id=\"instamojo\"\n                name=\"materialExampleRadios\" value=\"stripe\" mdbInput>\n              <label class=\"form-check-label\" for=\"instamojo\">{{util.getString('Pay with Instamojo')}} </label>\n              <img src=\"assets/imgs/instalogos.png\" class=\"imgs\" />\n            </div>\n\n            <div class=\"form-check\" *ngIf=\"cart.havePayment && cart.havePayStack\">\n              <input type=\"radio\" (change)=\"payMethod('paystacks')\" class=\"form-check-input\" id=\"paystacks\"\n                name=\"materialExampleRadios\" value=\"stripe\" mdbInput>\n              <label class=\"form-check-label\" for=\"paystacks\"> {{util.getString('Pay with PayStacks')}} </label>\n              <img src=\"assets/imgs/paystack.png\" class=\"imgs\" />\n            </div>\n            <div class=\"form-check\" *ngIf=\"cart.havePayment && cart.haveFlutterwave\">\n              <input type=\"radio\" (change)=\"payMethod('flutterPay')\" class=\"form-check-input\" id=\"flutterPay\"\n                name=\"materialExampleRadios\" value=\"stripe\" mdbInput>\n              <label class=\"form-check-label\" for=\"flutterPay\">{{util.getString('Pay with Flutterwave')}} </label>\n              <img src=\"assets/imgs/flutter.png\" class=\"imgs\" />\n            </div>\n\n          </div>\n          <div class=\"nextBtns\">\n            <button mdbBtn type=\"button\" *ngIf=\"selected !== 1\" (click)=\"prev()\" color=\"success\" mdbWavesEffect>\n              <mdb-icon fas icon=\"angle-left\" class=\"mr-1\"></mdb-icon>{{util.getString('Previous')}}\n            </button>\n            <button mdbBtn type=\"button\" *ngIf=\"selected !== 3\" color=\"success\" (click)=\"next()\" mdbWavesEffect>\n              <mdb-icon fas icon=\"angle-right\" class=\"mr-1\"></mdb-icon>{{util.getString('Next')}}\n            </button>\n            <button mdbBtn type=\"button\" *ngIf=\"selected === 3 && payMethods\" color=\"success\" (click)=\"submit()\"\n              mdbWavesEffect>\n              <mdb-icon fas icon=\"angle-right\" class=\"mr-1\"></mdb-icon>{{util.getString('Submit')}}\n            </button>\n          </div>\n        </div>\n        <!-- For Payment -->\n      </div>\n    </div>\n\n    <div class=\"col-md-3 col-12 centerAligned\">\n      <div class=\"content_div\" *ngIf=\"cart.cart.length\">\n        <div class=\"card_div\" *ngFor=\"let item of cart.cart;let i = index\">\n          <div class=\"back_image\" [style.backgroundImage]=\"'url('+api.mediaURL+item.cover+')'\">\n            <div class=\"percent\" *ngIf=\"item.discount !== '0'\"> {{item.discount}}% </div>\n            <div *ngIf=\"item.in_stoke === '0'\" class=\"notInStoke\">\n              <span class=\"text\"> {{util.getString('Out of Stoke')}} </span>\n            </div>\n          </div>\n          <div class=\"second_div\">\n            <span class=\"name_lbl\">{{ (item.name.length>15)? (item.name | slice:0:15)+'..':(item.name) }}</span>\n            <div *ngIf=\"item.size ==='1'\" class=\"variant\">\n              <div class=\"selecter\" [ngbPopover]=\"popContent\" placement=\"bottom\" triggers=\"manual\" #p1=\"ngbPopover\"\n                (click)=\"p1.open()\">\n                <span>\n                  <span> {{\n                                    item.variations && item.variations[0] && item.variations[0].items[item.variant] &&\n                                    item.variations[0].items[item.variant].title ?\n                                    item.variations[0].items[item.variant].title : ''}} </span>\n                  -\n                  <span *ngIf=\"util.cside ==='left'\" class=\"price_lbl\"> {{util.currecny}}\n                    <span class=\"original\" *ngIf=\"item.variations && item.variations[0] && item.variations[0].items[item.variant] &&\n                                    item.variations[0].items[item.variant].discount\">\n                      {{ item.variations && item.variations[0] && item.variations[0].items[item.variant] &&\n                                    item.variations[0].items[item.variant].price ?\n                                    item.variations[0].items[item.variant].price : 0}}\n                    </span>\n                    <span class=\"sell\" *ngIf=\"item.variations && item.variations[0] && item.variations[0].items[item.variant] &&\n                                    item.variations[0].items[item.variant].discount\"> {{item.variations && item.variations[0] && item.variations[0].items[item.variant] &&\n                                    item.variations[0].items[item.variant].discount ?\n                                    item.variations[0].items[item.variant].discount : 0}}\n                    </span>\n                    <span\n                      *ngIf=\"item.variations && item.variations[0] && item.variations[0].items[item.variant] &&\n                                    item.variations[0].items[item.variant].discount === 0 && !item.variations[0].items[item.variant].discount\">\n                      {{ item.variations && item.variations[0] && item.variations[0].items[item.variant] &&\n                                    item.variations[0].items[item.variant].price ?\n                                    item.variations[0].items[item.variant].price : 0}}\n                    </span>\n\n                  </span>\n                  <span *ngIf=\"util.cside ==='right'\">\n                    <span class=\"original\" *ngIf=\"item.variations && item.variations[0] && item.variations[0].items[item.variant] &&\n                                              item.variations[0].items[item.variant].discount\">\n                      {{ item.variations && item.variations[0] && item.variations[0].items[item.variant] &&\n                                              item.variations[0].items[item.variant].price ?\n                                              item.variations[0].items[item.variant].price : 0}}\n                    </span>\n                    <span class=\"sell\" *ngIf=\"item.variations && item.variations[0] && item.variations[0].items[item.variant] &&\n                                            item.variations[0].items[item.variant].discount\"> {{item.variations && item.variations[0] && item.variations[0].items[item.variant] &&\n                                            item.variations[0].items[item.variant].discount ?\n                                            item.variations[0].items[item.variant].discount : 0}}\n                    </span>\n                    <span\n                      *ngIf=\"item.variations && item.variations[0] && item.variations[0].items[item.variant] &&\n                                              item.variations[0].items[item.variant].discount === 0 && !item.variations[0].items[item.variant].discount\">\n                      {{ item.variations && item.variations[0] && item.variations[0].items[item.variant] &&\n                                              item.variations[0].items[item.variant].price ?\n                                              item.variations[0].items[item.variant].price : 0}}\n                    </span>\n                    {{util.currecny}}\n                  </span>\n                </span>\n                <mdb-icon fas icon=\"angle-down\"></mdb-icon>\n\n              </div>\n              <ng-template #popContent let-greeting=\"greeting\">\n                <div *ngFor=\"let option of item.variations[0].items;let ix = index\" class=\"normalItem\"\n                  (click)=\"item.variant = ix;cart.calcuate()\">\n                  {{option.title}} -\n                  <span class=\"price_lbl\" *ngIf=\"option.discount === 0 && util.cside ==='left'\"> {{util.currecny}}\n                    {{option.price}} </span>\n                  <span class=\"price_lbl\" *ngIf=\"option.discount === 0 && util.cside ==='right'\">\n                    {{option.price}}\n                    {{util.currecny}}</span>\n                  <span class=\"price_lbl\" *ngIf=\"option.discount !== 0\">\n                    <span class=\"original\" *ngIf=\"util.cside ==='left'\"> {{util.currecny}} {{option.price}} </span>\n                    <span class=\"sell\" *ngIf=\"util.cside ==='left'\">{{util.currecny}} {{option.discount}} </span>\n                    <span class=\"original\" *ngIf=\"util.cside ==='right'\"> {{option.price}} {{util.currecny}}</span>\n                    <span class=\"sell\" *ngIf=\"util.cside ==='right'\"> {{option.discount}} {{util.currecny}}</span>\n                  </span>\n                </div>\n                <!-- <div *ngFor=\"let item of cities\" [ngClass]=\"id === item.id ? 'activeCity':'normalCity'\"\n                          (click)=\"selected(item)\">\n                          <mdb-icon fas icon=\"check-circle\" *ngIf=\"id === item.id\"></mdb-icon> {{item.name}}\n                        </div> -->\n              </ng-template>\n            </div>\n            <p class=\"itemsKind\" *ngIf=\"item.size ==='0'\">\n              <span *ngIf=\"item.have_gram === '1'\"> {{item.gram}} {{util.getString('grams')}} </span>\n              <span *ngIf=\"item.have_kg === '1'\"> {{item.kg}} {{util.getString('kg')}} </span>\n              <span *ngIf=\"item.have_liter ==='1'\"> {{item.liter}} {{util.getString('ltr')}} </span>\n              <span *ngIf=\"item.have_ml ==='1'\"> {{item.ml}} {{util.getString('ml')}} </span>\n              <span *ngIf=\"item.have_pcs === '1'\"> {{item.pcs}} {{util.getString('pcs')}} </span>\n            </p>\n            <div *ngIf=\"item.size ==='0'\">\n              <p class=\"price_lbl\" *ngIf=\"item.discount === '0' && util.cside ==='left'\"> {{util.currecny}}\n                {{item.original_price}} </p>\n              <p class=\"price_lbl\" *ngIf=\"item.discount === '0' && util.cside ==='right'\">\n                {{item.original_price}}\n                {{util.currecny}}</p>\n              <p class=\"price_lbl\" *ngIf=\"item.discount !== '0'\">\n                <span class=\"original\" *ngIf=\"util.cside ==='left'\"> {{util.currecny}} {{item.original_price}} </span>\n                <span class=\"sell\" *ngIf=\"util.cside ==='left'\">{{util.currecny}} {{item.sell_price}} </span>\n                <span class=\"original\" *ngIf=\"util.cside ==='right'\"> {{item.original_price}} {{util.currecny}}</span>\n                <span class=\"sell\" *ngIf=\"util.cside ==='right'\"> {{item.sell_price}} {{util.currecny}}</span>\n              </p>\n            </div>\n\n            <div class=\"cartBtn\" *ngIf=\"cart.itemId.includes(item.id)\">\n              <div class=\"abs_add\">\n                <img src=\"assets/imgs/remove.png\" (click)=\"remove(item,i)\">\n                <span>{{item.quantiy}}</span>\n                <img src=\"assets/imgs/add.png\" (click)=\"add(item,i)\">\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"billing\">\n        <div class=\"singleRow\">\n          <!-- offersModal -->\n          <a type=\"button\" mdbBtn color=\"primary\" style=\"width: 100%;\" outline=\"true\" class=\"waves-light\" mdbWavesEffect\n            (click)=\"offersModal.show()\"> {{util.getString('Apply Coupon')}}\n          </a>\n        </div>\n        <div class=\"singleRow\">\n          <p class=\"headerTitle\">{{util.getString('Item Total')}} </p>\n          <p class=\"price\">\n            <span *ngIf=\"util.cside ==='left'\"> {{util.currecny}} {{cart.totalPrice}}</span>\n            <span *ngIf=\"util.cside ==='right'\">{{cart.totalPrice}} {{util.currecny}} </span>\n          </p>\n        </div>\n\n        <div class=\"singleRow\" *ngIf=\"cart.coupon\">\n          <p class=\"headerTitle\">{{util.getString('Dicount')}} </p>\n          <p class=\"price\">\n            <span *ngIf=\"util.cside ==='left'\"> {{util.currecny}} {{cart.discount}}</span>\n            <span *ngIf=\"util.cside ==='right'\">{{cart.discount}} {{util.currecny}} </span>\n          </p>\n        </div>\n\n        <div class=\"singleRow\">\n          <p class=\"headerTitle\">{{util.getString('Taxes & Charges')}} </p>\n          <p class=\"price\">\n            <span *ngIf=\"util.cside ==='left'\"> {{util.currecny}} {{cart.orderTax}}</span>\n            <span *ngIf=\"util.cside ==='right'\">{{cart.orderTax}} {{util.currecny}} </span>\n          </p>\n        </div>\n\n        <div class=\"singleRow\">\n          <p class=\"headerTitle\">{{util.getString('Delivery Charges')}} </p>\n          <p class=\"price\">\n            <span *ngIf=\"util.cside ==='left'\"> {{util.currecny}} {{cart.deliveryPrice}}</span>\n            <span *ngIf=\"util.cside ==='right'\">{{cart.deliveryPrice}} {{util.currecny}} </span>\n          </p>\n        </div>\n\n        <div class=\"singleRow\">\n          <p class=\"headerTotal boldClass\">{{util.getString('Grand Total')}} </p>\n          <p class=\"priceTotal boldClass\">\n\n            <span *ngIf=\"util.cside ==='left'\"> {{util.currecny}} {{cart.grandTotal}}</span>\n            <span *ngIf=\"util.cside ==='right'\">{{cart.grandTotal}} {{util.currecny}} </span>\n          </p>\n        </div>\n\n      </div>\n\n    </div>\n  </div>\n\n  <!-- FORM -->\n\n  <!-- FORM -->\n</div>\n\n<div *ngIf=\"!cart.cart?.length\" class=\"centeredItems\">\n  <img src=\"assets/imgs/cart.png\" alt=\"\" srcset=\"\" class=\"imgs\">\n  <p class=\"text\">{{util.getString('No items found')}} </p>\n</div>\n","/*\n  Authors : initappz (Rahul Jograna)\n  Website : https://initappz.com/\n  App Name : ionic 5 groceryee app\n  Created : 10-Sep-2020\n  This App Template Source code is licensed as per the\n  terms found in the Website https://initappz.com/license\n  Copyright and Good Faith Purchasers © 2020-present initappz.\n*/\nimport { ApiService } from 'src/app/services/api.service';\nimport { Component, OnInit, ViewChild, ChangeDetectorRef } from '@angular/core';\nimport * as moment from 'moment';\nimport { CartService } from 'src/app/services/cart.service';\nimport { UtilService } from 'src/app/services/util.service';\nimport { Location } from '@angular/common';\nimport Swal from 'sweetalert2';\nimport {\n  IPayPalConfig,\n  ICreateOrderRequest\n} from 'ngx-paypal';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { ModalDirective } from 'angular-bootstrap-md';\nimport { RazorPayService } from 'src/app/services/razorPay';\ndeclare var google;\ndeclare let Razorpay: any;\ndeclare let PaystackPop: any;\ndeclare let FlutterwaveCheckout: any;\n@Component({\n  selector: 'app-checkout',\n  templateUrl: './checkout.component.html',\n  styleUrls: ['./checkout.component.scss']\n})\nexport class CheckoutComponent implements OnInit {\n  @ViewChild('frame') public frame: ModalDirective;\n  @ViewChild('newAddress') public newAddress: ModalDirective;\n  @ViewChild('paytabs') public paytabs: ModalDirective;\n  @ViewChild('offersModal') public offersModal: ModalDirective;\n  selected: any = 1;\n  deliveryOption: any = 'home';\n\n  storeAddress: any[] = [];\n  time: any;\n  datetime: any;\n\n  today: any;\n  nextDay: any;\n  myaddress: any[] = [];\n  selectedAddress: any;\n\n  public payPalConfig?: IPayPalConfig;\n\n  payId: any;\n\n  payMethods: any;\n  cards: any[] = [];\n  token: any;\n\n  addCard: boolean;\n\n  cnumber: any = '';\n  cname: any = '';\n  cvc: any = '';\n  date: any = '';\n  email: any = '';\n\n  lat: any;\n  lng: any;\n  address: any = '';\n  house: any = '';\n  landmark: any = '';\n  title: any = 'home';\n  pincode: any = '';\n  id: any;\n  from: any;\n\n  RAZORPAY_OPTIONS = {\n    'key': '',\n    'amount': 0,\n    'name': 'Groceryee',\n    'order_id': '',\n    'description': 'Grocery Payment',\n    'image': this.api.mediaURL + this.util.logo,\n    'prefill': {\n      'name': '',\n      'email': '',\n      'contact': '',\n      'method': ''\n    },\n    'modal': {},\n    'theme': {\n      'color': '#45C261'\n    }\n  };\n\n  offers: any[] = [];\n  constructor(\n    public api: ApiService,\n    public cart: CartService,\n    public util: UtilService,\n    private navCtrl: Location,\n    private router: Router,\n    private razorpayService: RazorPayService,\n    private cd: ChangeDetectorRef,\n    private route: ActivatedRoute,\n  ) {\n    this.route.queryParams.subscribe((data: any) => {\n      console.log(data);\n      if (data && data.method && data.key) {\n        console.log('-------------<><<<<<', data);\n        // if()\n      } else {\n        this.getPayments();\n        this.addCard = false;\n        if (this.cart.cart.length > 0) {\n          this.getStoreList();\n        }\n        this.getAddress();\n        this.getOffers();\n        this.datetime = 'today';\n        this.time = this.util.getString('Today - ') + moment().format('dddd, MMMM Do YYYY');\n\n        this.today = moment().format('dddd, MMMM Do YYYY');\n        this.nextDay = moment().add(1, 'days').format('dddd, MMMM Do YYYY');\n      }\n    });\n\n  }\n  getPayments() {\n    this.api.get('payments').subscribe((data: any) => {\n      console.log(data);\n      if (data && data.status === 200 && data.data) {\n        const info = data.data.filter(x => x.status === '1');\n        console.log('total payments', info);\n        if (info && info.length > 0) {\n          console.log('---->>', info);\n          this.cart.havePayment = true;\n          const stripe = info.filter(x => x.id === '1');\n          const cod = info.filter(x => x.id === '2');\n          const paypal = info.filter(x => x.id === '3');\n          const razor = info.filter(x => x.id === '4');\n          const paytm = info.filter(x => x.id === '5');\n          const insta = info.filter(x => x.id === '6');\n          const paystack = info.filter(x => x.id === '7');\n          const flutterwave = info.filter(x => x.id === '8');\n          this.cart.havePayTM = paytm && paytm.length > 0 ? true : false;\n          this.cart.havePayPal = paypal && paypal.length > 0 ? true : false;\n          this.cart.haveStripe = stripe && stripe.length > 0 ? true : false;\n          this.cart.haveRazor = razor && razor.length > 0 ? true : false;\n          this.cart.haveCOD = cod && cod.length > 0 ? true : false;\n          this.cart.haveInstamojo = insta && insta.length > 0 ? true : false;\n          this.cart.havePayStack = paystack && paystack.length > 0 ? true : false;\n          this.cart.haveFlutterwave = flutterwave && flutterwave.length > 0 ? true : false;\n          if (this.cart.haveStripe) {\n            // this.util.stripe = stripe;\n            if (stripe) {\n              const creds = JSON.parse(stripe[0].creds);\n              if (stripe[0].env === '1') {\n                this.util.stripe = creds.live;\n              } else {\n                this.util.stripe = creds.test;\n              }\n              if (this.util.userInfo && this.util.userInfo.stripe_key) {\n                this.getCards();\n              }\n              this.util.stripeCode = creds && creds.code ? creds.code : 'USD';\n            }\n            console.log('============>>', this.util.stripe);\n          }\n\n\n          if (this.cart.haveInstamojo) {\n            const datas = info.filter(x => x.id === '6');\n            this.cart.instaENV = datas[0].env;\n            if (insta) {\n              const instaPay = JSON.parse(datas[0].creds);\n              this.cart.instamojo = instaPay;\n              console.log('instaMOJO', this.cart.instamojo);\n            }\n          }\n\n          if (this.cart.havePayPal) {\n            if (paypal) {\n              const creds = JSON.parse(paypal[0].creds);\n              if (paypal[0].env === '1') {\n                this.util.paypal = creds.live;\n              } else {\n                this.util.paypal = creds.test;\n              }\n              if (this.cart.havePayPal) {\n                this.initConfig();\n              }\n              this.util.paypalCode = creds && creds.code ? creds.code : 'USD';\n            }\n          }\n\n          if (this.cart.haveRazor) {\n            if (razor) {\n              const creds = JSON.parse(razor[0].creds);\n              if (razor[0].env === '1') {\n                this.util.razor = creds.live;\n              } else {\n                this.util.razor = creds.test;\n              }\n              if (this.cart.haveRazor) {\n                this.initRazor();\n              }\n              this.util.razorCode = creds && creds.code ? creds.code : 'INR';\n            }\n          }\n\n          if (this.cart.havePayTM) {\n            if (paytm) {\n              const creds = JSON.parse(paytm[0].creds);\n              this.cart.paytmENV = paytm[0].env;\n              this.cart.paytmCreds = creds;\n              console.log('creds=============>>>>>>>PAYRMMMMM', creds);\n            }\n          }\n\n          if (this.cart.havePayStack) {\n            if (paystack) {\n              const creds = JSON.parse(paystack[0].creds);\n              this.cart.paystack = creds;\n              console.log('paystack creds=======>>>>>', this.cart.paystack);\n            }\n          }\n\n          if (this.cart.haveFlutterwave) {\n            if (flutterwave) {\n              const creds = JSON.parse(flutterwave[0].creds);\n              this.cart.flutterwave = creds;\n              console.log('fluterwave creds=>>', this.cart.flutterwave);\n            }\n          }\n        } else {\n          this.cart.havePayment = false;\n          this.util.toast('error', this.util.getString('Error'), this.util.getString('Something went wrong'));\n        }\n      } else {\n        this.cart.havePayment = false;\n        this.util.toast('error', this.util.getString('Error'), this.util.getString('Something went wrong'));\n      }\n    }, error => {\n      console.log(error);\n      this.cart.havePayment = false;\n      this.util.toast('error', this.util.getString('Error'), this.util.getString('Something went wrong'));\n    });\n  }\n  paystackPay() {\n    const handler = PaystackPop.setup({\n      key: this.cart.paystack.pk,\n      email: this.util.userInfo.email,\n      amount: this.cart.grandTotal * 100,\n      firstname: this.util.userInfo.first_name,\n      lastname: this.util.userInfo.last_name,\n      ref: '' + Math.floor((Math.random() * 1000000000) + 1),\n      onClose: () => {\n        console.log('closed');\n      },\n      callback: (response) => {\n        console.log(response);\n        // response.reference\n        this.createOrder('paystack', response.reference);\n      }\n    });\n    handler.openIframe();\n  }\n\n\n\n  ngOnInit(): void {\n\n\n  }\n  initRazor() {\n    this.razorpayService\n      .lazyLoadLibrary('https://checkout.razorpay.com/v1/checkout.js')\n      .subscribe();\n  }\n\n  handleChange(event) {\n    console.log(event);\n    this.deliveryOption = event;\n  }\n\n  getName() {\n    return this.util.userInfo && this.util.userInfo.first_name ? this.util.userInfo.first_name + ' ' +\n      this.util.userInfo.last_name : 'Groceryee';\n  }\n\n  getEmail() {\n    return this.util.userInfo && this.util.userInfo.email ? this.util.userInfo.email : 'info@groceryee.com';\n  }\n\n  instaPay() {\n    let curl;\n    if (this.cart.instaENV === '0') {\n      curl = 'https://test.instamojo.com/api/1.1/payment-requests/';\n    } else {\n      curl = 'https://www.instamojo.com/api/1.1/payment-requests/';\n    }\n    const callbackURL = window.location.origin + '/instamojocallback?method=instamojo&';\n    const param = {\n      allow_repeated_payments: 'False',\n      amount: this.cart.grandTotal,\n      name: this.getName(),\n      purpose: 'Groceryee order',\n      redirect_url: callbackURL,\n      phone: this.util.userInfo && this.util.userInfo.mobile ? this.util.userInfo.mobile : '',\n      send_email: 'True',\n      webhook: this.api.baseUrl,\n      send_sms: 'True',\n      email: this.getEmail(),\n      key: this.cart.instamojo.key,\n      token: this.cart.instamojo.token,\n      url: curl\n    };\n\n    this.util.start();\n    this.api.post('users/instamojoRequest', param).subscribe((data: any) => {\n      console.log(data);\n      this.util.stop();\n      if (data && data.status === 200) {\n        const info = JSON.parse(data.data);\n        console.log('info', info);\n        if (info && info.success === true) {\n          window.open(info.payment_request.longurl, '_self');\n        } else {\n          this.util.toast('error', this.util.getString('Error'), this.util.getString('Something went wrong'));\n        }\n      } else {\n        this.util.toast('error', this.util.getString('Error'), this.util.getString('Something went wrong'));\n      }\n    }, error => {\n      this.util.stop();\n      this.util.toast('error', this.util.getString('Error'), this.util.getString('Something went wrong'));\n      console.log(error);\n    });\n  }\n\n  flutterPay() {\n    const callbackURL = window.location.origin + '/flutterwavecallback?method=flutterwave&';\n    FlutterwaveCheckout({\n      public_key: this.cart.flutterwave.pk,\n      tx_ref: '' + Math.floor((Math.random() * 1000000000) + 1),\n      amount: this.cart.grandTotal,\n      currency: this.cart.flutterwave.code,\n      payment_options: 'card, mobilemoneyghana, ussd',\n      redirect_url: // specified redirect URL\n        callbackURL,\n      meta: {\n        consumer_id: 23,\n        consumer_mac: '92a3-912ba-1192a',\n      },\n      customer: {\n        email: this.getEmail(),\n        phone_number: this.util.userInfo.mobile,\n        name: this.getName(),\n      },\n      callback: (data) => {\n        console.log(data);\n      },\n      onclose: () => {\n        console.log('closed');\n      },\n      customizations: {\n        title: 'Groceryee',\n        description: 'Groceryee order',\n        logo: this.api.mediaURL + this.util.logo,\n      },\n    });\n  }\n\n  payTm() {\n    // payFromWeb\n    const orderId = this.util.makeid(20);\n    const callbackURL = window.location.href + '?method=paytm&key=' + orderId;\n\n    const param = {\n      ORDER_ID: orderId,\n      CUST_ID: localStorage.getItem('uid'),\n      INDUSTRY_TYPE_ID: 'Retail',\n      CHANNEL_ID: 'WAP',\n      TXN_AMOUNT: this.cart.grandTotal ? this.cart.grandTotal : 5,\n      callback: callbackURL\n    };\n    localStorage.setItem('payTMOrderID', orderId);\n    localStorage.setItem('deliveryAt', this.deliveryOption);\n    localStorage.setItem('deliveryAddress', JSON.stringify(this.cart.deliveryAddress));\n    localStorage.setItem('datetime', this.datetime);\n    localStorage.setItem('couponadded', JSON.stringify(this.cart.coupon));\n    console.log('to url===>', this.api.JSON_to_URLEncoded(param));\n    const url = this.api.baseUrl + 'paytm/payFromWeb?' + this.api.JSON_to_URLEncoded(param);\n    window.open(url, '_self');\n  }\n\n  getOffers() {\n    this.api.get('offers').subscribe((data: any) => {\n      console.log(data);\n      if (data && data.status === 200 && data.data && data.data.length) {\n        const info = data.data.filter(x => x.status === '1');\n        this.offers = info;\n      }\n    }, error => {\n      console.log(error);\n      this.util.toast('error', this.util.getString('Error'), this.util.getString('Something went wrong'));\n    });\n  }\n\n  private initConfig(): void {\n    this.payPalConfig = {\n      currency: this.util.paypalCode,\n      clientId: this.util.paypal,\n      createOrderOnClient: (data) => <ICreateOrderRequest>{\n        intent: 'CAPTURE',\n        purchase_units: [{\n          amount: {\n            currency_code: this.util.paypalCode,\n            value: this.cart.grandTotal,\n            breakdown: {\n              item_total: {\n                currency_code: this.util.paypalCode,\n                value: this.cart.grandTotal\n              }\n            }\n          },\n        }]\n      },\n      advanced: {\n        commit: 'true'\n      },\n      style: {\n        label: 'paypal',\n        layout: 'vertical'\n      },\n      onApprove: (data, actions) => {\n        console.log('onApprove - transaction was approved, but not authorized', data, actions);\n        actions.order.get().then(details => {\n          console.log('onApprove - you can get full order details inside onApprove: ', details);\n\n        });\n\n      },\n      onClientAuthorization: (data) => {\n        console.log('onClientAuthorization - you should probably inform your server about completed transaction at this point', data);\n        // this.showSuccess = true;\n        this.payId = data.id;\n        this.createOrder('paypal', this.payId);\n      },\n      onCancel: (data, actions) => {\n        console.log('OnCancel', data, actions);\n        // this.showCancel = true;\n\n      },\n      onError: err => {\n        console.log('OnError', err);\n        // this.showError = true;\n      },\n      onClick: (data, actions) => {\n        console.log('onClick', data, actions);\n        // this.resetStatus();\n      },\n    };\n  }\n\n  getCards() {\n    console.log(this.util.userInfo.stripe_key);\n    this.api.httpGet('https://api.stripe.com/v1/customers/' + this.util.userInfo.stripe_key +\n      '/sources?object=card', this.util.stripe).subscribe((cards: any) => {\n        console.log(cards);\n        if (cards && cards.data) {\n          this.cards = cards.data;\n          this.token = this.cards[0].id;\n        }\n      }, (error) => {\n        console.log(error);\n        if (error && error.error && error.error.error && error.error.error.message) {\n          this.util.toast('error', this.util.getString('Error'), error.error.error.message);\n          return false;\n        }\n        this.util.toast('error', this.util.getString('Error'), this.util.getString('Something went wrong'));\n      });\n  }\n\n  public proceed() {\n    this.RAZORPAY_OPTIONS.key = this.util.razor;\n    this.RAZORPAY_OPTIONS.amount = this.cart.grandTotal * 100;\n    this.RAZORPAY_OPTIONS.prefill.email = this.util.userInfo.email;\n\n    this.RAZORPAY_OPTIONS['handler'] = this.razorPaySuccessHandler.bind(this);\n\n    const razorpay = new Razorpay(this.RAZORPAY_OPTIONS);\n    razorpay.open();\n  }\n\n\n  public razorPaySuccessHandler(response) {\n    console.log('->', response);\n    this.payId = response.razorpay_payment_id;\n    this.createOrder('razor', this.payId);\n    this.cd.detectChanges();\n  }\n\n  addNewAddress() {\n    this.newAddress.show();\n  }\n\n  addAddress() {\n    if (this.address === '' || this.landmark === '' || this.house === '' || this.pincode === '') {\n      this.util.toast('error', this.util.getString('Error'), this.util.getString('All Fields are required'));\n      return false;\n    }\n    if (!this.lat || this.lat === '' || !this.lng || this.lng === '') {\n      const geocoder = new google.maps.Geocoder;\n      geocoder.geocode({ address: this.house + ' ' + this.landmark + ' ' + this.address + ' ' + this.pincode }, (results, status) => {\n        console.log(results, status);\n        if (status === 'OK' && results && results.length) {\n          this.lat = results[0].geometry.location.lat();\n          this.lng = results[0].geometry.location.lng();\n          console.log('----->', this.lat, this.lng);\n          console.log('call api');\n          this.util.start();\n          const param = {\n            uid: localStorage.getItem('uid'),\n            address: this.address,\n            lat: this.lat,\n            lng: this.lng,\n            title: this.title,\n            house: this.house,\n            landmark: this.landmark,\n            pincode: this.pincode\n          };\n          this.api.post('address/save', param).subscribe((data: any) => {\n            this.util.stop();\n            this.newAddress.hide();\n            if (data && data.status === 200) {\n              // this.navCtrl.back();\n              this.getAddress();\n              // this.util.showToast('Address added', 'success', 'bottom');\n              const Toast = Swal.mixin({\n                toast: true,\n                position: 'bottom-end',\n                showConfirmButton: false,\n                timer: 3000,\n                timerProgressBar: true,\n                onOpen: (toast) => {\n                  toast.addEventListener('mouseenter', Swal.stopTimer);\n                  toast.addEventListener('mouseleave', Swal.resumeTimer);\n                }\n              });\n\n              Toast.fire({\n                icon: 'success',\n                title: this.util.getString('Address added')\n              });\n            } else {\n              this.util.toast('error', this.util.getString('Error'), this.util.getString('Something went wrong'));\n            }\n          }, error => {\n            console.log(error);\n            this.util.stop();\n            this.util.toast('error', this.util.getString('Error'), this.util.getString('Something went wrong'));\n          });\n        } else {\n          this.util.toast('error', this.util.getString('Error'), this.util.getString('Something went wrong'));\n          return false;\n        }\n      });\n    }\n\n\n  }\n\n  payWithCard() {\n    console.log(this.token);\n    if (this.token) {\n      const options = {\n        amount: this.cart.grandTotal * 100,\n        currency: this.util.stripeCode,\n        customer: this.util.userInfo.stripe_key,\n        card: this.token,\n      };\n      console.log('options', options);\n      const url = 'https://api.stripe.com/v1/charges';\n      this.util.start();\n      this.api.externalPost(url, options, this.util.stripe).subscribe((data: any) => {\n        console.log('------------------------->', data);\n        this.payId = data.id;\n        this.util.stop();\n        // this.util.showToast('Payment Success', 'success', 'bottom');\n        const Toast = Swal.mixin({\n          toast: true,\n          position: 'bottom-end',\n          showConfirmButton: false,\n          timer: 3000,\n          timerProgressBar: true,\n          onOpen: (toast) => {\n            toast.addEventListener('mouseenter', Swal.stopTimer);\n            toast.addEventListener('mouseleave', Swal.resumeTimer);\n          }\n        });\n\n        Toast.fire({\n          icon: 'success',\n          title: this.util.getString('Payment Success')\n        });\n        this.createOrder('stripe', this.payId);\n      }, (error) => {\n        this.util.stop();\n        console.log(error);\n        if (error && error.error && error.error.error && error.error.error.message) {\n          // this.util.showErrorAlert(error.error.error.message);\n          this.util.toast('error', this.util.getString('Error'), error.error.error.message);\n          return false;\n        }\n        this.util.toast('error', this.util.getString('Error'), this.util.getString('Something went wrong'));\n      });\n    } else {\n      this.util.toast('error', this.util.getString('Error'), this.util.getString('Please select card'));\n    }\n  }\n\n  async createOrder(payMethod, payKey) {\n    //////////// new\n    //////////// new\n\n    const storeId = [...new Set(this.cart.cart.map(item => item.store_id))];\n    const orderStatus = [];\n    storeId.forEach(element => {\n      const info = {\n        id: element,\n        status: 'created'\n      };\n      orderStatus.push(info);\n    });\n    const notes = [\n      {\n        status: 1,\n        value: 'Order Created',\n        time: moment().format('lll'),\n      }\n    ];\n    const param = {\n      uid: localStorage.getItem('uid'),\n      store_id: storeId.join(),\n      date_time: this.cart.datetime === 'today' ? moment().format('YYYY-MM-DD HH:mm:ss') : moment().add(1, 'days').format('YYYY-MM-DD HH:mm:ss'),\n      paid_method: payMethod,\n      order_to: this.cart.deliveryAt,\n      orders: JSON.stringify(this.cart.cart),\n      notes: JSON.stringify(notes),\n      address: this.cart.deliveryAt === 'home' ? JSON.stringify(this.cart.deliveryAddress) : '',\n      driver_id: '',\n      total: this.cart.totalPrice,\n      tax: this.cart.orderTax,\n      grand_total: this.cart.grandTotal,\n      delivery_charge: this.cart.deliveryPrice,\n      coupon_code: this.cart.coupon ? JSON.stringify(this.cart.coupon) : '',\n      discount: this.cart.discount,\n      pay_key: payKey,\n      status: JSON.stringify(orderStatus),\n      assignee: ''\n    }\n\n    console.log('param----->', param);\n\n    this.util.start();\n    this.api.post('orders/save', param).subscribe((data: any) => {\n      console.log(data);\n      this.util.stop();\n      this.api.createOrderNotification(this.cart.stores);\n      this.cart.clearCart();\n      this.util.publishNewOrder();\n      this.router.navigate(['orders']);\n    }, error => {\n      console.log(error);\n      this.util.stop();\n      this.util.toast('error', this.util.getString('Error'), this.util.getString('Something went wrong'));\n    });\n  }\n\n  getAddress() {\n    const param = {\n      id: localStorage.getItem('uid')\n    };\n    this.myaddress = [];\n    this.api.post('address/getByUid', param).subscribe((data: any) => {\n      console.log('addreess------------', data);\n      if (data && data.status === 200 && data.data.length) {\n        this.myaddress = data.data;\n      }\n    }, error => {\n      console.log(error);\n      this.util.toast('error', this.util.getString('Error'), this.util.getString('Something went wrong'));\n    });\n  }\n\n  getStoreList() {\n    const info = [...new Set(this.cart.cart.map(item => item.store_id))];\n    console.log('store iddss==================>>', info);\n    // test\n    // info.push(10, 17);\n    // test\n    const param = {\n      id: info.join()\n    };\n    this.api.post('stores/getStoresData', param).subscribe((data: any) => {\n      console.log(data);\n      if (data && data.status === 200 && data.data.length) {\n        this.storeAddress = data.data;\n        this.cart.stores = this.storeAddress;\n      } else {\n        this.util.toast('error', this.util.getString('Error'), this.util.getString('Something went wrong'));\n        // this.back();\n      }\n    }, error => {\n      console.log('error', error);\n      this.util.toast('error', this.util.getString('Error'), this.util.getString('Something went wrong'));\n    });\n  }\n\n  back() {\n    this.navCtrl.back();\n  }\n\n  onSelect(data) {\n    if (data === 'today') {\n      this.datetime = 'today';\n      this.time = this.util.getString('Today - ') + moment().format('dddd, MMMM Do YYYY');\n    } else {\n      this.datetime = 'tomorrow';\n      this.time = this.util.getString('Tomorrow - ') + moment().add(1, 'days').format('dddd, MMMM Do YYYY');\n    }\n  }\n\n  prev() {\n    console.log('prev', this.selected);\n    if (this.selected === 2) {\n      this.selected = 1;\n    } else if (this.selected === 3 && this.deliveryOption === 'home') {\n      this.selected = 2;\n    } else {\n      this.selected = 1;\n    }\n  }\n\n  next() {\n    console.log('next', this.selected, this.deliveryOption);\n    console.log('deliveryadddress', this.selectedAddress);\n    this.cart.deliveryAt = this.deliveryOption;\n    this.cart.datetime = this.datetime;\n    if (this.selected === 1 && this.deliveryOption === 'home') {\n      this.selected = 2;\n    } else if (this.selected === 1 && this.deliveryOption === 'store') {\n      this.selected = 3;\n    } else if (this.selected === 2 && this.selectedAddress) {\n      const selecte = this.myaddress.filter(x => x.id === this.selectedAddress);\n      const item = selecte[0];\n      console.log('item', item);\n      this.cart.deliveryAddress = item;\n      this.selected = 3;\n    } else if (!this.selectedAddress) {\n      this.util.toast('error', this.util.getString('Error'), this.util.getString('Please select address'));\n    }\n    this.cart.calcuate();\n  }\n\n  add(product, index) {\n    if (this.cart.cart[index].quantiy > 0) {\n      this.cart.cart[index].quantiy = this.cart.cart[index].quantiy + 1;\n      this.cart.addQuantity(this.cart.cart[index].quantiy, product.id);\n    }\n  }\n\n  remove(product, index) {\n    if (this.cart.cart[index].quantiy === 1) {\n      this.cart.cart[index].quantiy = 0;\n      this.cart.removeItem(product.id);\n    } else {\n      this.cart.cart[index].quantiy = this.cart.cart[index].quantiy - 1;\n      this.cart.addQuantity(this.cart.cart[index].quantiy, product.id);\n    }\n  }\n\n  payMethod(method) {\n    console.log(method);\n    this.payMethods = method;\n  }\n\n  submit() {\n    if (this.payMethods === 'cod') {\n      this.createOrder(this.payMethods, '');\n    } else if (this.payMethods === 'stripe') {\n      console.log('pay with stripe');\n      this.frame.show();\n    } else if (this.payMethods === 'razor') {\n      this.proceed();\n    } else if (this.payMethods === 'paytm') {\n      this.payTm();\n    } else if (this.payMethods === 'instamojo') {\n      this.instaPay();\n    } else if (this.payMethods === 'paystacks') {\n      this.paystackPay();\n    } else if (this.payMethods === 'flutterPay') {\n      this.flutterPay();\n    }\n  }\n\n  addcard() {\n    this.date = this.date.replace(/ /g, '');\n    this.cnumber = this.cnumber.replace(/ /g, '');\n    console.log('date============>', this.date.split('/'));\n    console.log('cumner', this.cnumber);\n    if (this.email === '' || this.cname === '' || this.cnumber === '' ||\n      this.cvc === '' || this.date === '') {\n      // this.util.showToast('All Fields are required', 'danger', 'bottom');\n      this.util.toast('error', this.util.getString('Error'), this.util.getString('All Fields are required'));\n      return false;\n    }\n    const emailfilter = /^[\\w._-]+[+]?[\\w._-]+@[\\w.-]+\\.[a-zA-Z]{2,6}$/;\n    if (!(emailfilter.test(this.email))) {\n      // this.util.showToast('Please enter valid email', 'danger', 'bottom');\n      this.util.toast('error', this.util.getString('Error'), this.util.getString('Please enter valid emai'));\n      return false;\n    }\n    const year = this.date.split('/')[1];\n    const month = this.date.split('/')[0];\n\n    const param = {\n      'card[number]': this.cnumber,\n      'card[exp_month]': month,\n      'card[exp_year]': year,\n      'card[cvc]': this.cvc\n    };\n    this.util.start();\n    this.api.externalPost('https://api.stripe.com/v1/tokens', param, this.util.stripe).subscribe((data: any) => {\n      console.log(data);\n      if (data && data.id) {\n        // this.token = data.id;\n        const customer = {\n          description: 'Customer for groceryee app',\n          source: data.id,\n          email: this.email\n        };\n        this.api.externalPost('https://api.stripe.com/v1/customers', customer, this.util.stripe).subscribe((customer: any) => {\n          console.log(customer);\n          this.util.stop();\n          if (customer && customer.id) {\n            // this.cid = customer.id;\n            const cid = {\n              id: localStorage.getItem('uid'),\n              stripe_key: customer.id\n            };\n\n            this.updateUser(cid);\n          }\n        }, error => {\n          this.util.stop();\n          console.log();\n          if (error && error.error && error.error.error && error.error.error.message) {\n            // this.util.showErrorAlert(error.error.error.message);\n            this.util.toast('error', this.util.getString('Error'), error.error.error.message);\n            return false;\n          }\n          this.util.toast('error', this.util.getString('Error'), this.util.getString('Something went wrong'));\n        });\n      } else {\n        this.util.stop();\n      }\n    }, (error: any) => {\n      console.log(error);\n      this.util.stop();\n      console.log();\n      if (error && error.error && error.error.error && error.error.error.message) {\n        // this.util.showErrorAlert(error.error.error.message);\n        this.util.toast('error', this.util.getString('Error'), error.error.error.message);\n        return false;\n      }\n      this.util.toast('error', this.util.getString('Error'), this.util.getString('Something went wrong'));\n    });\n  }\n\n  updateUser(param) {\n    this.util.start();\n    this.api.post('users/edit_profile', param).subscribe((data: any) => {\n      this.util.stop();\n      console.log(data);\n      const getParam = {\n        id: localStorage.getItem('uid')\n      };\n      this.api.post('users/getById', getParam).subscribe((data: any) => {\n        console.log('user info=>', data);\n        if (data && data.status === 200 && data.data && data.data.length) {\n          this.util.userInfo = data.data[0];\n          // this.navCtrl.back();\n        } else {\n          // this.navCtrl.back();\n        }\n        this.addCard = false;\n        this.getCards();\n      }, error => {\n        console.log(error);\n      });\n    }, error => {\n      this.util.stop();\n      console.log(error);\n      this.util.toast('error', this.util.getString('Error'), this.util.getString('Something went wrong'));\n    });\n  }\n\n  getTime(time) {\n    return moment(time).format('LLLL');\n  }\n\n  selectedOffers(item) {\n    console.log(item);\n    const min = parseFloat(item.min);\n    if (this.cart.totalPrice >= min) {\n      this.cart.coupon = item;\n      // this.util.publishCoupon(item);\n      this.cart.calcuate();\n      console.log(this.cart.discount);\n      this.offersModal.hide();\n    } else {\n      console.log('not valid with minimum amout', min);\n      this.util.toast('error', this.util.getString('Error'), this.util.getString('Sorry') + ' ' + this.util.getString('minimum cart value must be')\n        + min + ' ' + this.util.getString('or equal'));\n    }\n  }\n}\n","/*\n  Authors : initappz (Rahul Jograna)\n  Website : https://initappz.com/\n  App Name : ionic 5 groceryee app\n  Created : 10-Sep-2020\n  This App Template Source code is licensed as per the\n  terms found in the Website https://initappz.com/license\n  Copyright and Good Faith Purchasers © 2020-present initappz.\n*/\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { CheckoutRoutingModule } from './checkout-routing.module';\nimport { CheckoutComponent } from './checkout.component';\nimport { MDBBootstrapModule } from 'angular-bootstrap-md';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport { NgxPayPalModule } from 'ngx-paypal';\nimport { CreditCardDirectivesModule } from 'angular-cc-library';\n\n@NgModule({\n  declarations: [CheckoutComponent],\n  imports: [\n    CommonModule,\n    CheckoutRoutingModule,\n    MDBBootstrapModule.forRoot(),\n    FormsModule,\n    ReactiveFormsModule,\n    NgbModule,\n    NgxPayPalModule,\n    CreditCardDirectivesModule\n  ]\n})\nexport class CheckoutModule { }\n","/*\n  Authors : initappz (Rahul Jograna)\n  Website : https://initappz.com/\n  App Name : ionic 5 groceryee app\n  Created : 10-Sep-2020\n  This App Template Source code is licensed as per the\n  terms found in the Website https://initappz.com/license\n  Copyright and Good Faith Purchasers © 2020-present initappz.\n*/\nimport { Injectable, Inject } from '@angular/core';\nimport { ReplaySubject, Observable, forkJoin } from 'rxjs';\nimport { DOCUMENT } from '@angular/common';\n\n/**\n * Handled loading the external library ondemand into our app\n */\n@Injectable({ providedIn: 'root' })\nexport class RazorPayService {\n\n  private _loadedLibraries: { [url: string]: ReplaySubject<any> } = {};\n\n  constructor(@Inject(DOCUMENT) private readonly document: any) { }\n\n  // forkjoin parameters will grow when we are adding any new external library into app\n  lazyLoadLibrary(resourceURL): Observable<any> {\n    return forkJoin([\n      this.loadScript(resourceURL)\n    ]);\n  }\n\n  private loadScript(url: string): Observable<any> {\n    if (this._loadedLibraries[url]) {\n      return this._loadedLibraries[url].asObservable();\n    }\n\n    this._loadedLibraries[url] = new ReplaySubject();\n\n    const script = this.document.createElement('script');\n    script.type = 'text/javascript';\n    script.async = true;\n    script.src = url;\n    script.onload = () => {\n      this._loadedLibraries[url].next();\n      this._loadedLibraries[url].complete();\n    };\n\n    this.document.body.appendChild(script);\n    return this._loadedLibraries[url].asObservable();\n  }\n}\n"]}