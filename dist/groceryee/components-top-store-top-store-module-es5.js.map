{"version":3,"sources":["webpack:///src/app/components/top-store/top-store-routing.module.ts","webpack:///src/app/components/top-store/top-store.component.ts","webpack:///src/app/components/top-store/top-store.component.html","webpack:///src/app/components/top-store/top-store.module.ts"],"names":["routes","path","component","TopStoreRoutingModule","forChild","imports","exports","TopStoreComponent","util","api","router","stores","dummystores","Array","getStore","param","id","localStorage","getItem","post","subscribe","console","log","status","data","length","forEach","element","isOpen","open_time","close_time","error","toast","getString","start","end","format","ctime","time","beforeTime","afterTime","isBetween","item","queryParams","uid","name","navigate","selector","templateUrl","styleUrls","TopStoreModule","declarations"],"mappings":"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","file":"components-top-store-top-store-module-es5.js","sourcesContent":["/*\n  Authors : initappz (Rahul Jograna)\n  Website : https://initappz.com/\n  App Name : ionic 5 groceryee app\n  Created : 10-Sep-2020\n  This App Template Source code is licensed as per the\n  terms found in the Website https://initappz.com/license\n  Copyright and Good Faith Purchasers © 2020-present initappz.\n*/\nimport { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { TopStoreComponent } from './top-store.component';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TopStoreComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class TopStoreRoutingModule { }\n","/*\n  Authors : initappz (Rahul Jograna)\n  Website : https://initappz.com/\n  App Name : ionic 5 groceryee app\n  Created : 10-Sep-2020\n  This App Template Source code is licensed as per the\n  terms found in the Website https://initappz.com/license\n  Copyright and Good Faith Purchasers © 2020-present initappz.\n*/\nimport { Component, OnInit } from '@angular/core';\nimport { UtilService } from 'src/app/services/util.service';\nimport { ApiService } from 'src/app/services/api.service';\nimport { Router, NavigationExtras } from '@angular/router';\nimport * as moment from 'moment';\n@Component({\n  selector: 'app-top-store',\n  templateUrl: './top-store.component.html',\n  styleUrls: ['./top-store.component.scss']\n})\nexport class TopStoreComponent implements OnInit {\n  stores: any[] = [];\n  dummystores: any[] = [];\n  constructor(\n    public util: UtilService,\n    public api: ApiService,\n    private router: Router\n  ) {\n    this.dummystores = Array(30);\n    this.getStore();\n  }\n\n  ngOnInit(): void {\n  }\n\n  getStore() {\n    const param = {\n      id: localStorage.getItem('city')\n    };\n    this.api.post('stores/getByCity', param).subscribe((stores: any) => {\n      console.log('stores by city', stores);\n      this.stores = [];\n      this.dummystores = [];\n      if (stores && stores.status === 200 && stores.data && stores.data.length) {\n        this.stores = stores.data;\n\n        this.stores.forEach(async (element) => {\n          element['isOpen'] = await this.isOpen(element.open_time, element.close_time);\n        });\n        console.log('store====>>>', this.stores);\n      }\n    }, error => {\n      this.dummystores = [];\n      console.log(error);\n      this.util.toast('error', this.util.getString('Error'), this.util.getString('Something went wrong'));\n    });\n  }\n\n  isOpen(start, end) {\n    const format = 'H:mm:ss';\n    const ctime = moment().format('HH:mm:ss');\n    const time = moment(ctime, format);\n    const beforeTime = moment(start, format);\n    const afterTime = moment(end, format);\n\n    if (time.isBetween(beforeTime, afterTime)) {\n      return true;\n    }\n    return false;\n  }\n\n  openStore(item) {\n    console.log('open store', item);\n\n    const param: NavigationExtras = {\n      queryParams: {\n        id: item.uid,\n        name: item.name\n      }\n    };\n    this.router.navigate(['/stores-products'], param);\n  }\n\n  getTime(time) {\n    return moment(time, ['h:mm A']).format('hh:mm A');\n  }\n}\n","<!--\n   Authors : initappz (Rahul Jograna)\n  Website : https://initappz.com/\n  App Name : ionic 5 groceryee app\n  Created : 10-Sep-2020\n  This App Template Source code is licensed as per the\n  terms found in the Website https://initappz.com/license\n  Copyright and Good Faith Purchasers © 2020-present initappz.\n -->\n<div class=\"container\">\n  <div class=\"row\">\n    <div *ngFor=\"let item of  dummystores ;\" class=\"col-12 col-md-6\">\n      <ngx-skeleton-loader appearance=\"circle\" [theme]=\"{ 'border-radius': '5px', height: '120px',width:'100%'}\">\n      </ngx-skeleton-loader>\n    </div>\n  </div>\n  <div class=\"row\">\n    <div class=\"content_div col-12 col-md-6\" *ngFor=\"let item of stores\">\n      <div class=\"card_div\">\n        <div class=\"image_div\" (click)=\"openStore(item)\"\n          [ngStyle]=\"{'background-image':'url('+ api.mediaURL+item.cover+'),url(assets/imgs/user.png)'}\">\n          <img src=\"assets/imgs/open.png\" class=\"isOpen\" alt=\"Veg\" *ngIf=\"item.isOpen && item.isClosed ==='1'\">\n          <img src=\"assets/imgs/close.png\" class=\"isOpen\" alt=\"Non Veg\" *ngIf=\"!item.isOpen || item.isClosed === '0'\">\n        </div>\n        <div class=\"desc_div\" (click)=\"openStore(item)\">\n          <p class=\"pro_name\">\n            {{ (item.name.length>12)? (item.name | slice:0:12)+'..':(item.name) }}</p>\n          <p class=\"pro_detail\">\n            {{ (item.address.length>20)? (item.address | slice:0:20)+'..':(item.address) }}\n          </p>\n          <p class=\"price_lbl\"> {{getTime(item.open_time)}} - {{getTime(item.close_time)}} </p>\n\n          <div class=\"small_flex\">\n            <div class=\"btnBtm\">\n              <a class=\"ion-activatable ripple-parent\">\n                {{util.getString('View')}}\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n","/*\n  Authors : initappz (Rahul Jograna)\n  Website : https://initappz.com/\n  App Name : ionic 5 groceryee app\n  Created : 10-Sep-2020\n  This App Template Source code is licensed as per the\n  terms found in the Website https://initappz.com/license\n  Copyright and Good Faith Purchasers © 2020-present initappz.\n*/\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { TopStoreRoutingModule } from './top-store-routing.module';\nimport { TopStoreComponent } from './top-store.component';\nimport { SharedModule } from 'src/app/shared/shared.module';\n\n\n@NgModule({\n  declarations: [TopStoreComponent],\n  imports: [\n    CommonModule,\n    TopStoreRoutingModule,\n    SharedModule\n  ]\n})\nexport class TopStoreModule { }\n"]}