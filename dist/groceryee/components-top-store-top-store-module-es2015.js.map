{"version":3,"sources":["./src/app/components/top-store/top-store-routing.module.ts","./src/app/components/top-store/top-store.component.ts","./src/app/components/top-store/top-store.component.html","./src/app/components/top-store/top-store.module.ts"],"names":[],"mappings":"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","file":"components-top-store-top-store-module-es2015.js","sourcesContent":["/*\n  Authors : initappz (Rahul Jograna)\n  Website : https://initappz.com/\n  App Name : ionic 5 groceryee app\n  Created : 10-Sep-2020\n  This App Template Source code is licensed as per the\n  terms found in the Website https://initappz.com/license\n  Copyright and Good Faith Purchasers © 2020-present initappz.\n*/\nimport { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { TopStoreComponent } from './top-store.component';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TopStoreComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class TopStoreRoutingModule { }\n","/*\n  Authors : initappz (Rahul Jograna)\n  Website : https://initappz.com/\n  App Name : ionic 5 groceryee app\n  Created : 10-Sep-2020\n  This App Template Source code is licensed as per the\n  terms found in the Website https://initappz.com/license\n  Copyright and Good Faith Purchasers © 2020-present initappz.\n*/\nimport { Component, OnInit } from '@angular/core';\nimport { UtilService } from 'src/app/services/util.service';\nimport { ApiService } from 'src/app/services/api.service';\nimport { Router, NavigationExtras } from '@angular/router';\nimport * as moment from 'moment';\n@Component({\n  selector: 'app-top-store',\n  templateUrl: './top-store.component.html',\n  styleUrls: ['./top-store.component.scss']\n})\nexport class TopStoreComponent implements OnInit {\n  stores: any[] = [];\n  dummystores: any[] = [];\n  constructor(\n    public util: UtilService,\n    public api: ApiService,\n    private router: Router\n  ) {\n    this.dummystores = Array(30);\n    this.getStore();\n  }\n\n  ngOnInit(): void {\n  }\n\n  getStore() {\n    const param = {\n      id: localStorage.getItem('city')\n    };\n    this.api.post('stores/getByCity', param).subscribe((stores: any) => {\n      console.log('stores by city', stores);\n      this.stores = [];\n      this.dummystores = [];\n      if (stores && stores.status === 200 && stores.data && stores.data.length) {\n        this.stores = stores.data;\n\n        this.stores.forEach(async (element) => {\n          element['isOpen'] = await this.isOpen(element.open_time, element.close_time);\n        });\n        console.log('store====>>>', this.stores);\n      }\n    }, error => {\n      this.dummystores = [];\n      console.log(error);\n      this.util.toast('error', this.util.getString('Error'), this.util.getString('Something went wrong'));\n    });\n  }\n\n  isOpen(start, end) {\n    const format = 'H:mm:ss';\n    const ctime = moment().format('HH:mm:ss');\n    const time = moment(ctime, format);\n    const beforeTime = moment(start, format);\n    const afterTime = moment(end, format);\n\n    if (time.isBetween(beforeTime, afterTime)) {\n      return true;\n    }\n    return false;\n  }\n\n  openStore(item) {\n    console.log('open store', item);\n\n    const param: NavigationExtras = {\n      queryParams: {\n        id: item.uid,\n        name: item.name\n      }\n    };\n    this.router.navigate(['/stores-products'], param);\n  }\n\n  getTime(time) {\n    return moment(time, ['h:mm A']).format('hh:mm A');\n  }\n}\n","<!--\n   Authors : initappz (Rahul Jograna)\n  Website : https://initappz.com/\n  App Name : ionic 5 groceryee app\n  Created : 10-Sep-2020\n  This App Template Source code is licensed as per the\n  terms found in the Website https://initappz.com/license\n  Copyright and Good Faith Purchasers © 2020-present initappz.\n -->\n<div class=\"container\">\n  <div class=\"row\">\n    <div *ngFor=\"let item of  dummystores ;\" class=\"col-12 col-md-6\">\n      <ngx-skeleton-loader appearance=\"circle\" [theme]=\"{ 'border-radius': '5px', height: '120px',width:'100%'}\">\n      </ngx-skeleton-loader>\n    </div>\n  </div>\n  <div class=\"row\">\n    <div class=\"content_div col-12 col-md-6\" *ngFor=\"let item of stores\">\n      <div class=\"card_div\">\n        <div class=\"image_div\" (click)=\"openStore(item)\"\n          [ngStyle]=\"{'background-image':'url('+ api.mediaURL+item.cover+'),url(assets/imgs/user.png)'}\">\n          <img src=\"assets/imgs/open.png\" class=\"isOpen\" alt=\"Veg\" *ngIf=\"item.isOpen && item.isClosed ==='1'\">\n          <img src=\"assets/imgs/close.png\" class=\"isOpen\" alt=\"Non Veg\" *ngIf=\"!item.isOpen || item.isClosed === '0'\">\n        </div>\n        <div class=\"desc_div\" (click)=\"openStore(item)\">\n          <p class=\"pro_name\">\n            {{ (item.name.length>12)? (item.name | slice:0:12)+'..':(item.name) }}</p>\n          <p class=\"pro_detail\">\n            {{ (item.address.length>20)? (item.address | slice:0:20)+'..':(item.address) }}\n          </p>\n          <p class=\"price_lbl\"> {{getTime(item.open_time)}} - {{getTime(item.close_time)}} </p>\n\n          <div class=\"small_flex\">\n            <div class=\"btnBtm\">\n              <a class=\"ion-activatable ripple-parent\">\n                {{util.getString('View')}}\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n","/*\n  Authors : initappz (Rahul Jograna)\n  Website : https://initappz.com/\n  App Name : ionic 5 groceryee app\n  Created : 10-Sep-2020\n  This App Template Source code is licensed as per the\n  terms found in the Website https://initappz.com/license\n  Copyright and Good Faith Purchasers © 2020-present initappz.\n*/\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { TopStoreRoutingModule } from './top-store-routing.module';\nimport { TopStoreComponent } from './top-store.component';\nimport { SharedModule } from 'src/app/shared/shared.module';\n\n\n@NgModule({\n  declarations: [TopStoreComponent],\n  imports: [\n    CommonModule,\n    TopStoreRoutingModule,\n    SharedModule\n  ]\n})\nexport class TopStoreModule { }\n"],"sourceRoot":"webpack:///"}